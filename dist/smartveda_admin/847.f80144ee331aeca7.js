"use strict";(self.webpackChunkAdmin_Panel=self.webpackChunkAdmin_Panel||[]).push([[847],{6847:(gt,h,r)=>{r.r(h),r.d(h,{QuibModule:()=>pt});var u=r(9808),b=r(1083),d=r(8441),p=r(9783),t=r(5e3),_=r(9996),f=r(7650),Z=r(7398),g=r(4255),T=r(1424),Q=r(845),v=r(4119),x=r(9114);const q=["dt"];function C(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",11),t.TgZ(1,"div",12),t._UZ(2,"i",13),t.TgZ(3,"input",14),t.NdJ("input",function(s){return t.CHM(e),t.oxw().applyFilterGlobal(s,"contains")}),t.qZA(),t.qZA(),t.qZA()}}function S(n,o){if(1&n&&(t.TgZ(0,"th",15),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.Oqu(e.headers)}}function y(n,o){if(1&n&&(t.TgZ(0,"tr"),t.TgZ(1,"th",15),t._uU(2,"S.no"),t.qZA(),t.YNc(3,S,2,1,"th",16),t.TgZ(4,"th"),t._uU(5,"Action"),t.qZA(),t.qZA()),2&n){const e=o.$implicit;t.xp6(3),t.Q6J("ngForOf",e)}}function U(n,o){if(1&n&&(t.TgZ(0,"button",22),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e.isEnabled)}}function M(n,o){if(1&n&&(t.TgZ(0,"button",23),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e.isEnabled)}}function L(n,o){if(1&n&&(t.TgZ(0,"button",22),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e.isBumped)}}function N(n,o){if(1&n&&(t.TgZ(0,"button",24),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e.isBumped)}}function w(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.qZA(),t.TgZ(13,"td"),t._uU(14),t.qZA(),t.TgZ(15,"td"),t.TgZ(16,"div",17),t.YNc(17,U,2,1,"button",18),t.YNc(18,M,2,1,"button",19),t.qZA(),t.qZA(),t.TgZ(19,"td"),t.TgZ(20,"div",17),t.YNc(21,L,2,1,"button",18),t.YNc(22,N,2,1,"button",20),t.qZA(),t.qZA(),t.TgZ(23,"td"),t._uU(24),t.qZA(),t.TgZ(25,"td"),t.TgZ(26,"div",17),t.TgZ(27,"button",21),t.NdJ("click",function(){const a=t.CHM(e).$implicit;return t.oxw().deleteQuib(null==a?null:a.id)}),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&n){const e=o.rowIndex,i=o.$implicit;t.xp6(2),t.Oqu(e+1),t.xp6(2),t.Oqu(i.displayName),t.xp6(2),t.Oqu(i.movieId),t.xp6(2),t.Oqu(i.body),t.xp6(2),t.Oqu(i.time),t.xp6(2),t.Oqu(i.createdDate),t.xp6(2),t.Oqu(i.postedDate),t.xp6(3),t.Q6J("ngIf",!0===i.isEnabled),t.xp6(1),t.Q6J("ngIf",0==i.isEnabled||null),t.xp6(3),t.Q6J("ngIf",1==i.isBumped),t.xp6(1),t.Q6J("ngIf",!1===i.isBumped||null),t.xp6(2),t.Oqu(i.quibType)}}function I(n,o){1&n&&(t.TgZ(0,"tr"),t.TgZ(1,"td",25),t._uU(2," No Records Found. "),t.qZA(),t.qZA())}const R=function(){return[10,50,100]},F=function(){return["user","movies"]},B=function(){return{width:"40vw"}};let O=(()=>{class n{constructor(e,i,s,a,l){this.QuibService=e,this.ngxLoader=i,this.toastr=s,this.ActivatedRoute=a,this.confirmationService=l}ngOnInit(){this.sidebarSpacing="contracted",this.fgsType=d.aS.squareLoader,this.ngxLoader.start(),this.sidebarSpacing="contracted",this.ActivatedRoute.queryParams.subscribe(e=>{this.payload=e}),this.AdminQuibList(this.payload),this.cols=[{field:"user",show:!0,headers:"User"},{field:"movies",show:!0,headers:"Movies"},{field:"quib",show:!0,headers:"Quib"},{field:"time",show:!0,headers:"Time"},{field:"createdDate",show:!0,headers:"Created Date"},{field:"postedDate",show:!0,headers:"Posted Date"},{field:"isEnabled",show:!0,headers:"Is Enabled"},{field:"isBumped",show:!0,headers:"Is Bumped"},{field:"quibType",show:!0,headers:"Quib Type"}]}onToggleSidebar(e){this.sidebarSpacing="open"===e?"contracted":"expanded"}applyFilterGlobal(e,i){this.dt.filterGlobal(e.target.value,i)}AdminQuibList(e){this.QuibService.AdminQuibList(e).subscribe(i=>{this.Admin_Quib=i,this.ngxLoader.stop()})}deleteQuib(e){this.confirmationService.confirm({message:"Are you sure that you want to delete Quib ?",header:"Confirmation",icon:"pi pi-exclamation-triangle",accept:()=>{this.ngxLoader.start(),this.QuibService.deleteQuib(e).subscribe(i=>{this.toastr.showSuccess(" Quib deleted successfully","Quib delete"),this.AdminQuibList(this.payload)})}})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(_.V),t.Y36(d.LA),t.Y36(f.$),t.Y36(b.gz),t.Y36(p.YP))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-admin-quib"]],viewQuery:function(e,i){if(1&e&&t.Gf(q,5),2&e){let s;t.iGM(s=t.CRH())&&(i.dt=s.first)}},features:[t._Bn([p.YP])],decls:11,vars:18,consts:[[3,"toggleSidebar"],[1,"body","bcard",3,"ngClass"],[1,"card","col-sm-12",2,"border","none"],["id","customerTable","responsiveLayout","scroll","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","styleClass","p-datatable-striped,width:max-content",3,"value","columns","paginator","rows","rowsPerPageOptions","showCurrentPageReport","resizableColumns","responsive","globalFilterFields"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[3,"fgsColor","fgsType"],["header","Confirmation","position","top","icon","pi pi-exclamation-triangle",3,"baseZIndex"],[1,"row"],[1,"p-input-icon-right","ml-5"],[1,"pi","pi-search"],["pInputText","","type","text","id","search-box","placeholder","Search by User or Movies",3,"input"],["pResizableColumn",""],["pResizableColumn","",4,"ngFor","ngForOf"],[1,"btn-grp"],["pButton","","type","button","class","p-button-success","style","height: 30px;",4,"ngIf"],["pButton","","type","button","class","p-button-danger","style","height: 30px",4,"ngIf"],["pButton","","type","button","class","p-button-danger","pTooltip","mark as Saved","style","height: 30px",4,"ngIf"],["pButton","","type","button","icon","pi pi-trash","pTooltip","Delete Quib","tooltipPosition","bottom",1,"p-button-danger",3,"click"],["pButton","","type","button",1,"p-button-success",2,"height","30px"],["pButton","","type","button",1,"p-button-danger",2,"height","30px"],["pButton","","type","button","pTooltip","mark as Saved",1,"p-button-danger",2,"height","30px"],["colspan","12",1,"text-center","text-danger","font-weight-700"]],template:function(e,i){1&e&&(t.TgZ(0,"app-header",0),t.NdJ("toggleSidebar",function(a){return i.onToggleSidebar(a)}),t.qZA(),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"p-table",3,4),t.YNc(5,C,4,0,"ng-template",5),t.YNc(6,y,6,1,"ng-template",6),t.YNc(7,w,28,12,"ng-template",7),t.YNc(8,I,3,0,"ng-template",8),t.qZA(),t._UZ(9,"ngx-ui-loader",9),t.qZA(),t._UZ(10,"p-confirmDialog",10),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngClass",i.sidebarSpacing),t.xp6(2),t.Q6J("value",null==i.Admin_Quib?null:i.Admin_Quib.savedQuibs)("columns",i.cols)("paginator",!0)("rows",10)("rowsPerPageOptions",t.DdM(15,R))("showCurrentPageReport",!0)("resizableColumns",!0)("responsive",!0)("globalFilterFields",t.DdM(16,F)),t.xp6(6),t.Q6J("fgsColor","#000000")("fgsType",i.fgsType),t.xp6(1),t.Akn(t.DdM(17,B)),t.Q6J("baseZIndex",1e4))},directives:[Z.G,u.mk,g.iA,p.jx,T.o,g.Q7,u.sg,u.O5,Q.Hq,v.u,d.Eo,x.Q],styles:['th[_ngcontent-%COMP%]{background-color:#353d44!important;color:#fff!important}td[_ngcontent-%COMP%]{text-align:left!important;font-size:200!important}.p-datatable[_ngcontent-%COMP%]{padding:none!important}.content-header[_ngcontent-%COMP%]{font-weight:500;letter-spacing:.5px;font-size:1.6rem;margin-bottom:.25rem}.text-center[_ngcontent-%COMP%]{margin-left:60%!important}.glyphicon-cog[_ngcontent-%COMP%]:before{content:"\\e019";padding-right:10px}.export[_ngcontent-%COMP%]{margin-left:90%;margin-bottom:.5rem}.btn-grp[_ngcontent-%COMP%]{display:flex}[_nghost-%COMP%]     .p-dialog .p-dialog-header{background-color:#c6c7cd94}']}),n})();var c=r(3075),J=r(7673),D=r(5315);const P=["QuibTable"];function W(n,o){if(1&n&&(t.TgZ(0,"option",24),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.Q6J("value",e.movieId),t.xp6(1),t.hij(" ",e.title," ")}}function Y(n,o){if(1&n&&(t.TgZ(0,"option",24),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.Q6J("value",e.userId),t.xp6(1),t.hij(" ",e.displayName," ")}}function k(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",14),t.TgZ(1,"div",15),t.TgZ(2,"h2",16),t._uU(3,"Quib list"),t.qZA(),t.qZA(),t.TgZ(4,"div",15),t._UZ(5,"i",17),t.TgZ(6,"input",18),t.NdJ("input",function(s){return t.CHM(e),t.oxw().FilterGlobal(s,"contains")}),t.qZA(),t.qZA(),t.TgZ(7,"div",15),t.TgZ(8,"form",19),t.TgZ(9,"select",20),t.NdJ("change",function(){return t.CHM(e),t.oxw().getUsersOnMovieSelection()}),t.TgZ(10,"option",21),t._uU(11,"Select Movie"),t.qZA(),t.YNc(12,W,2,2,"option",22),t.qZA(),t.TgZ(13,"select",23),t.NdJ("change",function(){return t.CHM(e),t.oxw().getMoviesOnUserSelection()}),t.TgZ(14,"option",21),t._uU(15,"Select User"),t.qZA(),t.YNc(16,Y,2,2,"option",22),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&n){const e=t.oxw();t.xp6(8),t.Q6J("formGroup",e.movieAndUserSelectionForm),t.xp6(4),t.Q6J("ngForOf",e.movieTitles),t.xp6(4),t.Q6J("ngForOf",e.userNames)}}function H(n,o){if(1&n&&(t.TgZ(0,"th",26),t._uU(1),t._UZ(2,"p-sortIcon",27),t.qZA()),2&n){const e=o.$implicit;t.Q6J("pSortableColumn",e.field),t.xp6(1),t.hij("",e.headers," "),t.xp6(1),t.Q6J("field",e.field)}}function E(n,o){if(1&n&&(t.TgZ(0,"tr"),t.TgZ(1,"th"),t._uU(2,"S.no"),t.qZA(),t.YNc(3,H,3,3,"th",25),t.TgZ(4,"th"),t._uU(5,"Action"),t.qZA(),t.qZA()),2&n){const e=o.$implicit;t.xp6(3),t.Q6J("ngForOf",e)}}function G(n,o){1&n&&(t.TgZ(0,"button",34),t._uU(1,"Enabled"),t.qZA())}function z(n,o){1&n&&(t.TgZ(0,"button",35),t._uU(1,"Disbaled"),t.qZA())}function j(n,o){1&n&&(t.TgZ(0,"button",34),t._uU(1,"Bumped"),t.qZA())}function V(n,o){1&n&&(t.TgZ(0,"button",35),t._uU(1,"UnBumped"),t.qZA())}function X(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.qZA(),t.TgZ(13,"td"),t._uU(14),t.qZA(),t.TgZ(15,"td"),t.TgZ(16,"div",28),t.YNc(17,G,2,0,"button",29),t.YNc(18,z,2,0,"button",30),t.qZA(),t.qZA(),t.TgZ(19,"td"),t.TgZ(20,"div",28),t.YNc(21,j,2,0,"button",29),t.YNc(22,V,2,0,"button",30),t.qZA(),t.qZA(),t.TgZ(23,"td"),t._uU(24),t.qZA(),t.TgZ(25,"td"),t._uU(26),t.qZA(),t.TgZ(27,"td",31),t.NdJ("click",function(){const a=t.CHM(e).$implicit;return t.oxw().getBumpUserListByQuibId(null==a?null:a.id)}),t.TgZ(28,"a",32),t._uU(29,"B-IN"),t.qZA(),t.qZA(),t.TgZ(30,"td",31),t.NdJ("click",function(){const a=t.CHM(e).$implicit;return t.oxw().getFlageUserListByQuibId(null==a?null:a.id)}),t.TgZ(31,"a",32),t._uU(32,"Flag"),t.qZA(),t.qZA(),t.TgZ(33,"td"),t.TgZ(34,"div",28),t.TgZ(35,"button",33),t.NdJ("click",function(){const a=t.CHM(e).$implicit;return t.oxw().deleteQuib(null==a?null:a.id)}),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&n){const e=o.rowIndex,i=o.$implicit;t.xp6(2),t.Oqu(e+1),t.xp6(2),t.Oqu(i.displayName),t.xp6(2),t.Oqu(i.title),t.xp6(2),t.Oqu(i.body),t.xp6(2),t.lnq("",i.HH,":",i.MM,":",i.SS,""),t.xp6(2),t.Oqu(i.createdDate),t.xp6(2),t.Oqu(i.postedDate),t.xp6(3),t.Q6J("ngIf",1==i.isEnabled),t.xp6(1),t.Q6J("ngIf",0==i.isEnabled),t.xp6(3),t.Q6J("ngIf",1==i.isBumped),t.xp6(1),t.Q6J("ngIf",0==i.isBumped),t.xp6(2),t.Oqu(null==i?null:i.averageRating),t.xp6(2),t.Oqu(null==i?null:i.numOfRatings)}}function K(n,o){1&n&&(t.TgZ(0,"tr"),t.TgZ(1,"td",36),t._uU(2," No Records Found. "),t.qZA(),t.qZA())}function $(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"div",39),t.TgZ(2,"div",43),t.TgZ(3,"div",44),t._UZ(4,"input",53),t.qZA(),t.qZA(),t.TgZ(5,"div",43),t.TgZ(6,"div",44),t.TgZ(7,"div",39),t.TgZ(8,"div",54),t.TgZ(9,"button",55),t.NdJ("click",function(){const s=t.CHM(e),a=s.index,l=s.$implicit;return t.oxw(3).BumpIncreamentAndDecreament(a,l.ccp-1)}),t._UZ(10,"i",56),t.qZA(),t.qZA(),t.TgZ(11,"div",57),t._UZ(12,"input",53),t.qZA(),t.TgZ(13,"div",54),t.TgZ(14,"button",58),t.NdJ("click",function(){const s=t.CHM(e),a=s.index,l=s.$implicit;return t.oxw(3).BumpIncreamentAndDecreament(a,l.ccp+1)}),t._UZ(15,"i",59),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&n){const e=o.$implicit;t.xp6(4),t.s9C("value",e.userName),t.xp6(8),t.s9C("value",e.ccp)}}function tt(n,o){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",38),t.TgZ(2,"div",39),t.TgZ(3,"div",40),t.TgZ(4,"div",41),t.TgZ(5,"div",42),t.TgZ(6,"div",39),t.TgZ(7,"div",43),t.TgZ(8,"div",44),t.TgZ(9,"label",45),t._uU(10,"User List"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(11,"div",43),t.TgZ(12,"div",44),t.TgZ(13,"label",46),t._uU(14,"Current Curator Point "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(15,$,16,2,"div",47),t.TgZ(16,"div",48),t.TgZ(17,"div",49),t.TgZ(18,"div",50),t.TgZ(19,"button",51),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).display=!1}),t._uU(20,"Cancel"),t.qZA(),t.TgZ(21,"button",52),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).submitBumpUserListdata()}),t._uU(22,"Submit"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.BQk()}if(2&n){const e=t.oxw(2);t.xp6(15),t.Q6J("ngForOf",e.BumpUserList)}}function et(n,o){1&n&&(t.ynx(0),t.TgZ(1,"h1",60),t._uU(2,"Sorry No Data Found"),t.qZA(),t.BQk())}function it(n,o){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,tt,23,1,"ng-container",37),t.YNc(2,et,3,0,"ng-container",37),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.BumpUserList.length>0),t.xp6(1),t.Q6J("ngIf",0===e.BumpUserList.length)}}function nt(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"div",39),t.TgZ(2,"div",43),t.TgZ(3,"div",44),t._UZ(4,"input",53),t.qZA(),t.qZA(),t.TgZ(5,"div",43),t.TgZ(6,"div",44),t.TgZ(7,"div",39),t.TgZ(8,"div",54),t.TgZ(9,"button",55),t.NdJ("click",function(){const s=t.CHM(e),a=s.index,l=s.$implicit;return t.oxw(3).FlagIncreamentAndDecreament(a,l.cfp-1)}),t._UZ(10,"i",56),t.qZA(),t.qZA(),t.TgZ(11,"div",57),t._UZ(12,"input",53),t.qZA(),t.TgZ(13,"div",54),t.TgZ(14,"button",58),t.NdJ("click",function(){const s=t.CHM(e),a=s.index,l=s.$implicit;return t.oxw(3).FlagIncreamentAndDecreament(a,l.cfp+1)}),t._UZ(15,"i",59),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&n){const e=o.$implicit;t.xp6(4),t.s9C("value",e.userName),t.xp6(8),t.s9C("value",e.cfp)}}function ot(n,o){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",38),t.TgZ(2,"div",39),t.TgZ(3,"div",40),t.TgZ(4,"div",41),t.TgZ(5,"div",42),t.TgZ(6,"div",39),t.TgZ(7,"div",43),t.TgZ(8,"div",44),t.TgZ(9,"label",45),t._uU(10,"User List"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(11,"div",43),t.TgZ(12,"div",44),t.TgZ(13,"label",46),t._uU(14,"Current Flagget Point "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(15,nt,16,2,"div",47),t.TgZ(16,"div",48),t.TgZ(17,"div",49),t.TgZ(18,"div",50),t.TgZ(19,"button",51),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).display=!1}),t._uU(20,"Cancel"),t.qZA(),t.TgZ(21,"button",52),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).submitFlagUserListdata()}),t._uU(22,"Submit"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.BQk()}if(2&n){const e=t.oxw(2);t.xp6(15),t.Q6J("ngForOf",e.FlagUserList)}}function st(n,o){1&n&&(t.ynx(0),t.TgZ(1,"h1",60),t._uU(2," Sorry No Data Found"),t.qZA(),t.BQk())}function at(n,o){if(1&n&&(t.YNc(0,ot,23,1,"ng-container",37),t.YNc(1,st,3,0,"ng-container",37)),2&n){const e=t.oxw();t.Q6J("ngIf",e.FlagUserList.length>0),t.xp6(1),t.Q6J("ngIf",0===e.FlagUserList.length)}}const rt=function(){return["displayName","title","body","time","createdDate","postedDate","averageRating","numOfRatings"]},lt=function(){return{width:"40vw"}};let A=(()=>{class n{constructor(e,i,s,a,l,m){this.ngxLoader=e,this.QuibService=i,this.fb=s,this.CommonService=a,this.confirmationService=l,this.toastr=m,this.display=!1,this.newQuibList=[],this.BIN=!1,this.CCP=0,this.pageNo=100,this.BumpUserList=[],this.FlagUserList=[],this.movieAndUserSelectionForm=new c.cw({}),this.movieTitles=[],this.userNames=[],this.movieAndUserSelectionForm=this.fb.group({selectedMovie:new c.NI(""),selectedUser:new c.NI("")})}ngOnInit(){this.sidebarSpacing="expanded",this.fgsType=d.aS.squareLoader,this.ngxLoader.start(),this.sidebarSpacing="expanded",this.QuibService.QuibSearchWord.subscribe(e=>{this.QuibSearchWord=e}),this.fetchOnLoad(),this.cols=[{field:"displayName",show:!0,headers:"User"},{field:"title",show:!0,headers:"Movies"},{field:"body",show:!0,headers:"Quib"},{field:"time",show:!0,headers:"Time"},{field:"createdDate",show:!0,headers:"Created Date"},{field:"postedDate",show:!0,headers:"Posted Date"},{field:"isEnabled",show:!0,headers:"IsEnabled"},{field:"isBumped",show:!0,headers:"IsBumped"},{field:"averageRating",show:!0,headers:"AVR"},{field:"numOfRatings",show:!0,headers:"Rating"},{field:"BumpIn",show:!0,headers:"B-IN"},{field:"flage",show:!0,headers:"FLAG"}]}onToggleSidebar(e){this.sidebarSpacing="open"===e?"contracted":"expanded"}applyFilterGlobal(e,i){switch(e.target.id){case"displayName":this.QuibSearchWord.displayName=e.target.value,this.QuibTable.filter(e.target.value,e.target.id,i);break;case"title":this.QuibSearchWord.title=e.target.value,this.QuibTable.filter(e.target.value,e.target.id,i);break;case"body":this.QuibSearchWord.body=e.target.value,this.QuibTable.filter(e.target.value,e.target.id,i);break;case"createdDate":this.QuibSearchWord.createdDate=e.target.value,this.QuibTable.filter(e.target.value,e.target.id,i);break;case"postedDate":this.QuibSearchWord.postedDate=e.target.value,this.QuibTable.filter(e.target.value,e.target.id,i);break;case"time":this.QuibSearchWord.time=e.target.value,this.QuibTable.filter(e.target.value,e.target.id,i);break;case"averageRating":this.QuibSearchWord.averageRating=e.target.value,this.QuibTable.filter(e.target.value,e.target.id,i);break;case"numOfRatings":this.QuibSearchWord.numOfRatings=e.target.value,this.QuibTable.filter(e.target.value,e.target.id,i)}}fetchOnLoad(){this.getMovieList(),this.getUserList()}getMovieList(){this.QuibService.getAllMoviesAdminPanel().subscribe(e=>{this.movieTitles=e})}getUserList(){this.QuibService.getAllUsersAdminPanel().subscribe(e=>{this.userNames=e}),this.ngxLoader.stop()}getUsersOnMovieSelection(){this.selectedMovie=this.movieAndUserSelectionForm.get("selectedMovie");const e=this.selectedMovie.value;null==this.selectedUser?e&&(this.QuibService.getAllFilteredUsers(e).subscribe(i=>{this.userNames=i}),this.getFilteredQuibList(null,e)):this.getFilteredQuibList(this.selectedUser.value,e)}getMoviesOnUserSelection(){this.selectedUser=this.movieAndUserSelectionForm.get("selectedUser");const e=this.selectedUser.value;null==this.selectedMovie?e&&(this.QuibService.getAllFilteredMovies(e).subscribe(i=>{this.movieTitles=i}),this.getFilteredQuibList(e,null)):this.getFilteredQuibList(e,this.selectedMovie.value)}getFilteredQuibList(e,i){this.ngxLoader.start(),this.QuibService.getFilteredQuibs(e,i).subscribe(s=>{this.quibLIst=s,this.totalRecords=s.quibTotalPages,this.quibLIst.savedQuibs.map(a=>{a.createdDate=this.CommonService.convertDate(a.createdDate),a.postedDate=this.CommonService.convertDate(a.postedDate),a.MM=this.CommonService.consverIntoHHMMSS(a.time).MM,a.HH=this.CommonService.consverIntoHHMMSS(a.time).HH,a.SS=this.CommonService.consverIntoHHMMSS(a.time).SS}),this.ngxLoader.stop(),this.loading=!1})}getQuibList(){this.QuibService.getQuibList(this.pageNo).subscribe(e=>{this.quibLIst=e,this.totalRecords=e.quibTotalPages,this.quibLIst.savedQuibs.map(i=>{i.createdDate=this.CommonService.convertDate(i.createdDate),i.postedDate=this.CommonService.convertDate(i.postedDate),i.MM=this.CommonService.consverIntoHHMMSS(i.time).MM,i.HH=this.CommonService.consverIntoHHMMSS(i.time).HH,i.SS=this.CommonService.consverIntoHHMMSS(i.time).SS}),this.ngxLoader.stop(),this.loading=!1})}deleteQuib(e){this.confirmationService.confirm({message:"Are you sure that you want to delete Quib ?",header:"Confirmation",icon:"pi pi-exclamation-triangle",accept:()=>{this.ngxLoader.start(),this.QuibService.deleteQuib(e).subscribe(i=>{this.toastr.showSuccess(" Quib deleted successfully","Quib delete"),this.getQuibList()})}})}IsEnabled(e,i){this.ngxLoader.start(),this.QuibService.IsEnabled(e,i).subscribe(s=>{s&&(this.toastr.showSuccess(" Status change successfully","Status change"),this.getQuibList())})}IsBumped(e,i){this.ngxLoader.start(),this.QuibService.IsBumped(e,i).subscribe(s=>{s&&(this.toastr.showSuccess(" Status change successfully","Status change"),this.getQuibList())})}FlagIncreamentAndDecreament(e,i){this.FlagUserList[e].cfp=i}BumpIncreamentAndDecreament(e,i){this.BumpUserList[e].ccp=i}submitBumpUserListdata(){let e=this.BumpUserList.map(i=>({id:i.id,ccp:i.ccp}));this.ngxLoader.start(),this.QuibService.submitBumpUserListdata(e).subscribe(i=>{i?(this.display=!1,this.BIN=!1,this.toastr.showSuccess(" Current Curator Point is  changed successfully","Curator Point"),this.getQuibList()):(this.display=!1,this.BIN=!1,this.toastr.showSuccess("Somthing is Wrong,Please check ","Curator  Score"),this.getQuibList())})}submitFlagUserListdata(){let e=this.FlagUserList.map(i=>({id:i.id,cfp:i.cfp}));this.ngxLoader.start(),this.QuibService.submitFlagUserListdata(e).subscribe(i=>{i?(this.display=!1,this.BIN=!1,this.toastr.showSuccess(" Current Flagger Point is  changed successfully","Flagger Point"),this.getQuibList()):(this.display=!1,this.BIN=!1,this.toastr.showSuccess("Somthing is Wrong,Please check ","Flagger Point"),this.getQuibList())})}getBumpUserListByQuibId(e){this.headerMessage="Bumped User List",this.ngxLoader.start(),this.QuibService.getBumpUserListByQuibId(e).subscribe(i=>{this.BumpUserList=i,this.display=!0,this.BIN=!0,this.ngxLoader.stop(),0===this.BumpUserList.length?(this.styleValue.height="20vh",this.styleValue.width="55vw"):(this.styleValue.height="90vh",this.styleValue.width="55vw")})}getFlageUserListByQuibId(e){this.headerMessage="Flagged User List",this.QuibService.getFlageUserListByQuibId(e).subscribe(i=>{this.FlagUserList=i,this.display=!0,this.BIN=!1,0===this.FlagUserList.length?(this.styleValue.height="20vh",this.styleValue.width="55vw"):(this.styleValue.height="90vh",this.styleValue.width="55vw"),this.ngxLoader.stop()})}FilterGlobal(e,i){this.QuibSearchWord.Gseacrh=e.target.value,this.QuibTable.filterGlobal(e.target.value,i)}ngOnDestroy(){this.QuibService.QuibSearchWord.next(this.QuibSearchWord),this.CommonService.setQuibSearchWord(this.QuibSearchWord)}QuibSearch(){null!=this.QuibSearchWord.Gseacrh&&this.QuibSearchWord.Gseacrh.trim().length>0&&this.QuibTable.filterGlobal(this.QuibSearchWord.Gseacrh,"contains"),null!=this.QuibSearchWord.displayName&&this.QuibSearchWord.displayName.trim().length>0&&this.QuibTable.filter(this.QuibSearchWord.displayName,"displayName","contains"),null!=this.QuibSearchWord.title&&this.QuibSearchWord.title.trim().length>0&&this.QuibTable.filter(this.QuibSearchWord.title,"title","contains"),null!=this.QuibSearchWord.body&&this.QuibSearchWord.body.trim().length>0&&this.QuibTable.filter(this.QuibSearchWord.body,"body","contains"),null!=this.QuibSearchWord.createdDate&&this.QuibSearchWord.createdDate.trim().length>0&&this.QuibTable.filter(this.QuibSearchWord.createdDate,"createdDate","contains"),null!=this.QuibSearchWord.postedDate&&this.QuibSearchWord.postedDate.trim().length>0&&this.QuibTable.filter(this.QuibSearchWord.postedDate,"postedDate","contains"),null!=this.QuibSearchWord.averageRating&&this.QuibSearchWord.averageRating.trim().length>0&&this.QuibTable.filter(this.QuibSearchWord.averageRating,"averageRating","contains"),null!=this.QuibSearchWord.time&&this.QuibSearchWord.time.trim().length>0&&this.QuibTable.filter(this.QuibSearchWord.time,"time","contains"),null!=this.QuibSearchWord.numOfRatings&&this.QuibSearchWord.numOfRatings.trim().length>0&&this.QuibTable.filter(this.QuibSearchWord.numOfRatings,"numOfRatings","contains")}loadNextQuibsdata(e){this.loading=!0,this.pageNo=(e.first+e.rows)/20,this.QuibService.getQuibList(this.pageNo).subscribe(i=>{this.quibLIst=i,this.totalRecords=i.quibTotalPages,this.loading=!1})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(d.LA),t.Y36(_.V),t.Y36(c.qu),t.Y36(J.v),t.Y36(p.YP),t.Y36(f.$))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-recent-quib"]],viewQuery:function(e,i){if(1&e&&t.Gf(P,5),2&e){let s;t.iGM(s=t.CRH())&&(i.QuibTable=s.first)}},inputs:{movieTitles:"movieTitles",userNames:"userNames"},features:[t._Bn([p.YP])],decls:15,vars:25,consts:[[3,"toggleSidebar"],[1,"body","bcard",3,"ngClass"],[1,"card","col-sm-12",2,"border","none"],["id","customerTable","responsiveLayout","scroll","stateStorage","session","stateKey","Quib-session","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","styleClass","p-datatable-striped,width:max-content",3,"value","columns","paginator","rows","showCurrentPageReport","resizableColumns","totalRecords","responsive","globalFilterFields"],["QuibTable",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[3,"fgsColor","fgsType"],["position","top",3,"visible","modal","header","baseZIndex","visibleChange"],[4,"ngIf","ngIfElse"],["flage",""],["header","Confirmation","position","top","icon","pi pi-exclamation-triangle",3,"baseZIndex"],[1,"row"],[1,"p-input-icon-right","ml-5"],[2,"font-family","'Times New Roman', Times, serif"],[1,"pi","pi-search"],["pInputText","","type","text","id","search-box","placeholder","Search by each column",3,"input"],[3,"formGroup"],["formControlName","selectedMovie","optionLabel","title","display","chip","defaultLabel","Select Movie",3,"change"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","selectedUser","optionLabel","displayName","display","chip","defaultLabel","Select User",3,"change"],[3,"value"],[3,"pSortableColumn",4,"ngFor","ngForOf"],[3,"pSortableColumn"],[3,"field"],[1,"btn-grp"],["pButton","","type","button","class","p-button-success","style","height: 30px;",4,"ngIf"],["pButton","","type","button","class","p-button-danger","style","height: 30px",4,"ngIf"],[3,"click"],[2,"color","blue","cursor","pointer"],["pButton","","type","button","icon","pi pi-trash","pTooltip","Delete Quib","tooltipPosition","bottom",1,"p-button-danger",3,"click"],["pButton","","type","button",1,"p-button-success",2,"height","30px"],["pButton","","type","button",1,"p-button-danger",2,"height","30px"],["colspan","12",1,"text-center","text-danger","font-weight-700"],[4,"ngIf"],[1,"card","col-sm-12",2,"height","70vh"],[1,"row","gutters"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12","col-12"],[1,"h-100","mt-2"],[1,"card-body"],[1,"col-xl-6","col-lg-6","col-md-6","col-sm-6","col-12"],[1,"form-group"],["for","name"],["for","image"],[4,"ngFor","ngForOf"],[1,"row","gutters","mt-4"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12","col-12","mt-4"],[1,"text-right"],["pButton","","type","button","id","submit","name","submit",1,"p-button-danger","mr-4",3,"click"],["pButton","","type","button","id","submit","name","submit",1,"p-button-success",3,"click"],["type","text","readonly","",1,"form-control",3,"value"],[1,"col-xl-2","col-lg-2","col-md-2","col-sm-2","col-2"],["pButton","","type","button",1,"p-button-danger",3,"click"],[1,"pi","pi-minus-circle",2,"font-size","1rem"],[1,"col-xl-8","col-lg-8","col-md-8","col-sm-8","col-8"],["pButton","","type","button",1,"p-button-success",3,"click"],[1,"pi","pi-plus-circle",2,"font-size","1rem"],[1,"NoRecord"]],template:function(e,i){if(1&e&&(t.TgZ(0,"app-header",0),t.NdJ("toggleSidebar",function(a){return i.onToggleSidebar(a)}),t.qZA(),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"p-table",3,4),t.YNc(5,k,17,3,"ng-template",5),t.YNc(6,E,6,1,"ng-template",6),t.YNc(7,X,36,15,"ng-template",7),t.YNc(8,K,3,0,"ng-template",8),t.qZA(),t._UZ(9,"ngx-ui-loader",9),t.qZA(),t.TgZ(10,"p-dialog",10),t.NdJ("visibleChange",function(a){return i.display=a}),t.YNc(11,it,3,2,"div",11),t.YNc(12,at,2,2,"ng-template",null,12,t.W1O),t.qZA(),t._UZ(14,"p-confirmDialog",13),t.qZA()),2&e){const s=t.MAs(13);t.xp6(1),t.Q6J("ngClass",i.sidebarSpacing),t.xp6(2),t.Q6J("value",null==i.quibLIst?null:i.quibLIst.savedQuibs)("columns",i.cols)("paginator",!0)("rows",10)("showCurrentPageReport",!0)("resizableColumns",!0)("totalRecords",i.totalRecords)("responsive",!0)("globalFilterFields",t.DdM(23,rt)),t.xp6(6),t.Q6J("fgsColor","#000000")("fgsType",i.fgsType),t.xp6(1),t.Akn(i.styleValue),t.Q6J("visible",i.display)("modal",!0)("header",i.headerMessage)("baseZIndex",1e4),t.xp6(1),t.Q6J("ngIf",i.BIN)("ngIfElse",s),t.xp6(3),t.Akn(t.DdM(24,lt)),t.Q6J("baseZIndex",1e4)}},directives:[Z.G,u.mk,g.iA,p.jx,T.o,c._Y,c.JL,c.sg,c.EJ,c.JJ,c.u,c.YN,c.Kr,u.sg,g.lQ,g.fz,u.O5,Q.Hq,v.u,d.Eo,D.V,x.Q],styles:['th[_ngcontent-%COMP%]{background-color:#353d44!important;color:#fff!important}td[_ngcontent-%COMP%]{text-align:left!important;font-size:200!important}.p-datatable[_ngcontent-%COMP%]{padding:none!important}.content-header[_ngcontent-%COMP%]{font-weight:500;letter-spacing:.5px;font-size:1.6rem;margin-bottom:.25rem}.text-center[_ngcontent-%COMP%]{margin-left:60%!important}.glyphicon-cog[_ngcontent-%COMP%]:before{content:"\\e019";padding-right:10px}.export[_ngcontent-%COMP%]{margin-left:90%;margin-bottom:.5rem}.btn-grp[_ngcontent-%COMP%]{display:flex}[_nghost-%COMP%]     .p-dialog .p-dialog-header{background-color:#c6c7cd94}[_nghost-%COMP%]     .p-menuitem-link-active{background-color:#900!important;color:#fff}']}),n})();const ct=[{path:"",component:A},{path:"recent-quib",component:A},{path:"admin-quib",component:O}];let ut=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[b.Bz.forChild(ct)],b.Bz]}),n})();var dt=r(5366);let pt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[u.ez,ut,dt.m,c.u5,c.UX]]}),n})()}}]);
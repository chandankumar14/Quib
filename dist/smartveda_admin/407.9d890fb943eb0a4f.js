"use strict";(self.webpackChunkAdmin_Panel=self.webpackChunkAdmin_Panel||[]).push([[407],{7407:(it,m,c)=>{c.r(m),c.d(m,{MoviesModule:()=>ot});var p=c(9808),Z=c(1083),u=c(8441),l=c(3075),g=c(9783),t=c(5e3),_=c(2866),v=c(7650),h=c(7398),d=c(4255),A=c(1424),T=c(4119),f=c(845),b=c(5315),x=c(7446),M=c(9114);const q=["dt"];function C(i,r){if(1&i){const o=t.EpF();t.TgZ(0,"div",38),t.TgZ(1,"span",39),t._UZ(2,"i",40),t.TgZ(3,"input",41),t.NdJ("input",function(n){return t.CHM(o),t.oxw().applyFilterGlobal(n,"contains")}),t.qZA(),t.qZA(),t.qZA()}}function S(i,r){if(1&i&&(t.TgZ(0,"th",43),t._uU(1),t._UZ(2,"p-sortIcon",44),t.qZA()),2&i){const o=r.$implicit;t.Q6J("pSortableColumn",o.field),t.xp6(1),t.hij("",o.headers," "),t.xp6(1),t.Q6J("field",o.field)}}function y(i,r){if(1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"th"),t._uU(2,"S.no"),t.qZA(),t.YNc(3,S,3,3,"th",42),t.TgZ(4,"th"),t._uU(5,"Options"),t.qZA(),t.qZA()),2&i){const o=r.$implicit;t.xp6(3),t.Q6J("ngForOf",o)}}function w(i,r){if(1&i){const o=t.EpF();t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td"),t.TgZ(12,"button",45),t._uU(13),t.qZA(),t.qZA(),t.TgZ(14,"td"),t.TgZ(15,"div",46),t.TgZ(16,"button",47),t.NdJ("click",function(){const s=t.CHM(o).$implicit;return t.oxw().deleteMovies(null==s?null:s.id)}),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&i){const o=r.rowIndex,e=r.$implicit;t.xp6(2),t.Oqu(o+1),t.xp6(2),t.Oqu(null==e?null:e.title),t.xp6(2),t.Oqu(null==e?null:e.director),t.xp6(2),t.Oqu(null==e?null:e.releaseYear),t.xp6(2),t.Oqu(null==e?null:e.length),t.xp6(3),t.Oqu(null==e?null:e.isActive)}}function U(i,r){1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td",48),t._uU(2," No Records Found. "),t.qZA(),t.qZA())}function I(i,r){if(1&i&&(t.TgZ(0,"div",17),t.TgZ(1,"div",18),t._UZ(2,"img",49),t.qZA(),t.qZA()),2&i){const o=t.oxw();t.xp6(2),t.Q6J("src",o.imageUrl,t.LSH)}}const k=function(){return[10,50,100]},J=function(){return["title","length","isActive"]},F=function(){return{width:"60vw",height:"100vh"}},N=function(){return{width:"40vw"}};let L=(()=>{class i{constructor(o,e,n,s,a){this.ngxLoader=o,this.MoviesService=e,this.toastr=n,this.confirmationService=s,this.fb=a,this.moviesList=[],this.display=!1,this.ActiveMoviesForm=this.fb.group({Director:["",[l.kI.required]],File:["",[l.kI.required]],IsActive:["",[l.kI.required]],releaseYear:["",[l.kI.required]],Length:["",[l.kI.required]],PosterContent:["",[l.kI.required]],PosterContentThumb:["",[l.kI.required]],Title:["",[l.kI.required]],hours:["",[l.kI.required]],minutes:["",[l.kI.required]],seconds:["",[l.kI.required]],Rating:["",[l.kI.required]]})}ngOnInit(){this.fgsType=u.aS.squareLoader,this.sidebarSpacing="contracted",this.cols=[{field:"title",show:!0,headers:"Title"},{field:"director",show:!0,headers:"Director"},{field:"releaseyear",show:!0,headers:"Release Year"},{field:"length",show:!0,headers:"Length"},{field:"isActive",show:!0,headers:"Is Active"}],this.getMovieList()}onToggleSidebar(o){this.sidebarSpacing="open"===o?"contracted":"expanded"}getMovieList(){this.MoviesService.getMovieList().subscribe(o=>{console.log(o.filter(e=>!0===e.isActive)),this.moviesList=o.filter(e=>!0===e.isActive),console.log(this.moviesList),this.ngxLoader.stop()})}applyFilterGlobal(o,e){this.dt.filterGlobal(o.target.value,e)}EditMovies(o){let e=this.moviesList.filter(n=>n.id===o);console.log(e),this.ActiveMoviesForm.patchValue({Director:e[0].director,Title:e[0].title}),this.display=!0}AddMovies(){this.ActiveMoviesForm.reset(),this.display=!0}OnChange(o){this.image=o.target.files;var e=new FileReader;e.readAsDataURL(o.target.files[0]),e.onload=n=>{this.imageUrl=n.target.result}}deleteMovies(o){this.confirmationService.confirm({message:"Are you sure that you want to delete Active Movies ?",header:"Confirmation",icon:"pi pi-exclamation-triangle",accept:()=>{this.ngxLoader.start(),this.MoviesService.deleteMovies(o).subscribe(e=>{this.getMovieList()})}})}}return i.\u0275fac=function(o){return new(o||i)(t.Y36(u.LA),t.Y36(_.I),t.Y36(v.$),t.Y36(g.YP),t.Y36(l.qu))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-active-movies"]],viewQuery:function(o,e){if(1&o&&t.Gf(q,5),2&o){let n;t.iGM(n=t.CRH())&&(e.dt=n.first)}},features:[t._Bn([g.YP])],decls:71,vars:30,consts:[[3,"toggleSidebar"],[1,"body","bcard",3,"ngClass"],[1,"card","col-sm-12",2,"border","none"],["id","customerTable","responsiveLayout","scroll","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","styleClass","p-datatable-striped",3,"columns","paginator","rows","rowsPerPageOptions","showCurrentPageReport","value","resizableColumns","responsive","globalFilterFields"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[3,"fgsColor","fgsType"],["header","Add Movies","position","top",3,"visible","modal","baseZIndex","visibleChange"],[3,"formGroup"],[1,"card","col-sm-12"],[1,"row","gutters"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12","col-12"],[1,"h-100","mt-5"],[1,"card-body"],[1,"col-xl-6","col-lg-6","col-md-6","col-sm-6","col-12"],[1,"form-group"],["for","name"],["type","text","formControlName","Title",1,"form-control"],["for","image"],["type","text","formControlName","Director",1,"form-control"],["for","Name"],["type","date","formControlName","ReleaseYear",1,"form-control"],["for","type","id","label"],["formControlName","Rating","placeholder","Select Rating",1,"form-control"],[3,"value"],[1,"example-section"],[1,"example-margin"],["type","file",1,"form-control",3,"change"],["class","col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12",4,"ngIf"],[1,"row","gutters","mt-4"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12","col-12","mt-4"],[1,"text-right"],["pButton","","type","button","id","submit","name","submit",1,"p-button-danger","mr-4",3,"click"],["pButton","","type","button","id","submit","name","submit",1,"p-button-success"],["header","Confirmation","position","top","icon","pi pi-exclamation-triangle",3,"baseZIndex"],[1,"row"],[1,"p-input-icon-right","ml-5"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search by Title and Length",3,"input"],[3,"pSortableColumn",4,"ngFor","ngForOf"],[3,"pSortableColumn"],[3,"field"],["pTooltip","mark as InActive","pButton","","type","button",1,"p-button-success",2,"height","30px"],[1,"btn-grp"],["pButton","","type","button","icon","pi pi-trash","pTooltip","Delete movie","tooltipPosition","bottom",1,"p-button-danger",2,"margin-right","5px",3,"click"],["colspan","12",1,"text-center","text-danger","font-weight-700"],[1,"form-control",2,"width","80%","height","10vh",3,"src"]],template:function(o,e){1&o&&(t.TgZ(0,"app-header",0),t.NdJ("toggleSidebar",function(s){return e.onToggleSidebar(s)}),t.qZA(),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"p-table",3,4),t.YNc(5,C,4,0,"ng-template",5),t.YNc(6,y,6,1,"ng-template",6),t.YNc(7,w,17,6,"ng-template",7),t.YNc(8,U,3,0,"ng-template",8),t.qZA(),t._UZ(9,"ngx-ui-loader",9),t.qZA(),t.TgZ(10,"p-dialog",10),t.NdJ("visibleChange",function(s){return e.display=s}),t.TgZ(11,"form",11),t.TgZ(12,"div",12),t.TgZ(13,"div",13),t.TgZ(14,"div",14),t.TgZ(15,"div",15),t.TgZ(16,"div",16),t.TgZ(17,"div",13),t.TgZ(18,"div",17),t.TgZ(19,"div",18),t.TgZ(20,"label",19),t._uU(21,"Title"),t.qZA(),t._UZ(22,"input",20),t.qZA(),t.qZA(),t.TgZ(23,"div",17),t.TgZ(24,"div",18),t.TgZ(25,"label",21),t._uU(26,"Director "),t.qZA(),t._UZ(27,"input",22),t.qZA(),t.qZA(),t.TgZ(28,"div",17),t.TgZ(29,"div",18),t.TgZ(30,"label",23),t._uU(31,"Release Year"),t.qZA(),t._UZ(32,"input",24),t.qZA(),t.qZA(),t.TgZ(33,"div",17),t.TgZ(34,"div",13),t.TgZ(35,"div",17),t.TgZ(36,"label",25),t._uU(37,"Rating"),t.qZA(),t.TgZ(38,"div",18),t.TgZ(39,"select",26),t.TgZ(40,"option",27),t._uU(41,"1"),t.qZA(),t.TgZ(42,"option",27),t._uU(43,"2"),t.qZA(),t.TgZ(44,"option",27),t._uU(45,"3"),t.qZA(),t.TgZ(46,"option",27),t._uU(47,"5"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(48,"div",17),t.TgZ(49,"section",28),t.TgZ(50,"mat-checkbox",29),t._uU(51,"Enabled"),t.qZA(),t.qZA(),t.TgZ(52,"section",28),t.TgZ(53,"mat-checkbox",29),t._uU(54,"Featured"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(55,"div",17),t.TgZ(56,"div",13),t.TgZ(57,"div",17),t.TgZ(58,"div",18),t.TgZ(59,"label",23),t._uU(60,"Movies Poster"),t.qZA(),t.TgZ(61,"input",30),t.NdJ("change",function(s){return e.OnChange(s)}),t.qZA(),t.qZA(),t.qZA(),t.YNc(62,I,3,1,"div",31),t.qZA(),t.qZA(),t.qZA(),t.TgZ(63,"div",32),t.TgZ(64,"div",33),t.TgZ(65,"div",34),t.TgZ(66,"button",35),t.NdJ("click",function(){return e.display=!1}),t._uU(67,"Cancel"),t.qZA(),t.TgZ(68,"button",36),t._uU(69,"Submit"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t._UZ(70,"p-confirmDialog",37),t.qZA()),2&o&&(t.xp6(1),t.Q6J("ngClass",e.sidebarSpacing),t.xp6(2),t.Q6J("columns",e.cols)("paginator",!0)("rows",10)("rowsPerPageOptions",t.DdM(26,k))("showCurrentPageReport",!0)("value",e.moviesList)("resizableColumns",!0)("responsive",!0)("globalFilterFields",t.DdM(27,J)),t.xp6(6),t.Q6J("fgsColor","#000000")("fgsType",e.fgsType),t.xp6(1),t.Akn(t.DdM(28,F)),t.Q6J("visible",e.display)("modal",!0)("baseZIndex",1e4),t.xp6(1),t.Q6J("formGroup",e.ActiveMoviesForm),t.xp6(29),t.Q6J("value",1),t.xp6(2),t.Q6J("value",2),t.xp6(2),t.Q6J("value",3),t.xp6(2),t.Q6J("value",5),t.xp6(16),t.Q6J("ngIf",null!=e.imageUrl),t.xp6(8),t.Akn(t.DdM(29,N)),t.Q6J("baseZIndex",1e4))},directives:[h.G,p.mk,d.iA,g.jx,A.o,p.sg,d.lQ,d.fz,T.u,f.Hq,u.Eo,b.V,l._Y,l.JL,l.sg,l.Fj,l.JJ,l.u,l.EJ,l.YN,l.Kr,x.oG,p.O5,M.Q],styles:[".btn-grp[_ngcontent-%COMP%]{display:flex}th[_ngcontent-%COMP%]{background-color:#353d44!important;color:#fff!important}[_nghost-%COMP%]     .p-dialog .p-dialog-header{background-color:#c6c7cd94}"]}),i})();const H=["dt"];function P(i,r){if(1&i){const o=t.EpF();t.TgZ(0,"div",14),t.TgZ(1,"span",15),t._UZ(2,"i",16),t.TgZ(3,"input",17),t.NdJ("input",function(n){return t.CHM(o),t.oxw().applyFilterGlobal(n,"contains")}),t.qZA(),t.qZA(),t.TgZ(4,"span",15),t.TgZ(5,"button",18),t.NdJ("click",function(){return t.CHM(o),t.oxw().AddMovies()}),t.qZA(),t.qZA(),t.qZA()}}function Y(i,r){if(1&i&&(t.TgZ(0,"th",28),t._uU(1),t._UZ(2,"p-sortIcon",29),t.qZA()),2&i){const o=r.$implicit;t.Q6J("pSortableColumn",o.field),t.xp6(1),t.hij("",o.headers," "),t.xp6(1),t.Q6J("field",o.field)}}function Q(i,r){if(1&i){const o=t.EpF();t.TgZ(0,"tr"),t.TgZ(1,"th"),t._uU(2,"S.no"),t.qZA(),t.YNc(3,Y,3,3,"th",19),t.TgZ(4,"th"),t._uU(5,"Options"),t.qZA(),t.qZA(),t.TgZ(6,"tr"),t.TgZ(7,"th"),t.TgZ(8,"input",20),t.NdJ("input",function(n){return t.CHM(o),t.oxw().applyFilterGlobal(n,"contains")}),t.qZA(),t.qZA(),t.TgZ(9,"th"),t.TgZ(10,"input",21),t.NdJ("input",function(n){return t.CHM(o),t.oxw().applyFilterGlobal(n,"contains")}),t.qZA(),t.qZA(),t.TgZ(11,"th"),t.TgZ(12,"input",22),t.NdJ("input",function(n){return t.CHM(o),t.oxw().applyFilterGlobal(n,"contains")}),t.qZA(),t.qZA(),t.TgZ(13,"th"),t.TgZ(14,"input",23),t.NdJ("input",function(n){return t.CHM(o),t.oxw().applyFilterGlobal(n,"contains")}),t.qZA(),t.qZA(),t.TgZ(15,"th"),t.TgZ(16,"input",24),t.NdJ("input",function(n){return t.CHM(o),t.oxw().applyFilterGlobal(n,"contains")}),t.qZA(),t.qZA(),t.TgZ(17,"th"),t.TgZ(18,"input",25),t.NdJ("input",function(n){return t.CHM(o),t.oxw().applyFilterGlobal(n,"contains")}),t.qZA(),t.qZA(),t.TgZ(19,"th"),t._UZ(20,"input",26),t.qZA(),t.TgZ(21,"th"),t._UZ(22,"input",27),t.qZA(),t.TgZ(23,"th"),t._UZ(24,"input",27),t.qZA(),t.qZA()}if(2&i){const o=r.$implicit;t.xp6(3),t.Q6J("ngForOf",o)}}function O(i,r){if(1&i){const o=t.EpF();t.TgZ(0,"button",37),t.NdJ("click",function(){t.CHM(o);const n=t.oxw().$implicit;return t.oxw().markAsActive(null==n?null:n.id,!1)}),t._uU(1,"Active"),t.qZA()}}function R(i,r){if(1&i){const o=t.EpF();t.TgZ(0,"button",38),t.NdJ("click",function(){t.CHM(o);const n=t.oxw().$implicit;return t.oxw().markAsActive(null==n?null:n.id,!0)}),t._uU(1,"InActive"),t.qZA()}}function D(i,r){if(1&i){const o=t.EpF();t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td"),t.TgZ(12,"div",30),t.YNc(13,O,2,0,"button",31),t.YNc(14,R,2,0,"button",32),t.qZA(),t.qZA(),t.TgZ(15,"td"),t.TgZ(16,"img",33),t.NdJ("click",function(){const s=t.CHM(o).$implicit;return t.oxw().updateMoviePoster(null==s?null:s.id)}),t.qZA(),t.qZA(),t.TgZ(17,"td"),t.TgZ(18,"a",34),t._uU(19,"ScreenShot"),t.qZA(),t.qZA(),t.TgZ(20,"td"),t.TgZ(21,"div",30),t.TgZ(22,"button",35),t.NdJ("click",function(){const s=t.CHM(o).$implicit;return t.oxw().EditMovies(null==s?null:s.id)}),t.qZA(),t.TgZ(23,"button",36),t.NdJ("click",function(){const s=t.CHM(o).$implicit;return t.oxw().deleteMovies(null==s?null:s.id)}),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&i){const o=r.rowIndex,e=r.$implicit;t.xp6(2),t.Oqu(o+1),t.xp6(2),t.Oqu(null==e?null:e.title),t.xp6(2),t.Oqu(null==e?null:e.director),t.xp6(2),t.Oqu(null==e?null:e.releaseYear),t.xp6(2),t.lnq("",null==e?null:e.HH,":",null==e?null:e.MM,":",null==e?null:e.SS,""),t.xp6(3),t.Q6J("ngIf",1==e.isActive),t.xp6(1),t.Q6J("ngIf",0==e.isActive),t.xp6(2),t.Q6J("src",null==e?null:e.posterContentThumb,t.LSH)}}function G(i,r){1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"td",39),t._uU(2," No Records Found. "),t.qZA(),t.qZA())}function B(i,r){if(1&i&&(t.TgZ(0,"div",46),t.TgZ(1,"div",47),t._UZ(2,"img",65),t.qZA(),t.qZA()),2&i){const o=t.oxw(2);t.xp6(2),t.Q6J("src",o.posterContentThumb,t.LSH)}}function E(i,r){if(1&i){const o=t.EpF();t.ynx(0),t.TgZ(1,"form",40),t.TgZ(2,"div",41),t.TgZ(3,"div",42),t.TgZ(4,"div",43),t.TgZ(5,"div",44),t.TgZ(6,"div",45),t.TgZ(7,"div",42),t.TgZ(8,"div",46),t.TgZ(9,"div",47),t.TgZ(10,"label",48),t._uU(11,"Title"),t.qZA(),t._UZ(12,"input",49),t.qZA(),t.qZA(),t.TgZ(13,"div",46),t.TgZ(14,"div",47),t.TgZ(15,"label",50),t._uU(16,"Director "),t.qZA(),t._UZ(17,"input",51),t.qZA(),t.qZA(),t.TgZ(18,"div",46),t.TgZ(19,"div",47),t.TgZ(20,"label",52),t._uU(21,"Release Year"),t.qZA(),t._UZ(22,"input",53),t.qZA(),t.qZA(),t.TgZ(23,"div",46),t.TgZ(24,"div",42),t.TgZ(25,"div",46),t.TgZ(26,"div",47),t.TgZ(27,"label",52),t._uU(28,"Movie Poster"),t.qZA(),t.TgZ(29,"input",54),t.NdJ("change",function(n){return t.CHM(o),t.oxw().OnChangePosterContentthumb(n)}),t.qZA(),t.qZA(),t.qZA(),t.YNc(30,B,3,1,"div",55),t.qZA(),t.qZA(),t.TgZ(31,"div",46),t.TgZ(32,"div",42),t.TgZ(33,"div",56),t.TgZ(34,"div",47),t.TgZ(35,"label",52),t._uU(36,"HH"),t.qZA(),t._UZ(37,"input",57),t.qZA(),t.qZA(),t.TgZ(38,"div",56),t.TgZ(39,"div",47),t.TgZ(40,"label",52),t._uU(41,"MM"),t.qZA(),t._UZ(42,"input",58),t.qZA(),t.qZA(),t.TgZ(43,"div",56),t.TgZ(44,"div",47),t.TgZ(45,"label",52),t._uU(46,"SS"),t.qZA(),t._UZ(47,"input",59),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(48,"div",60),t.TgZ(49,"div",61),t.TgZ(50,"div",62),t.TgZ(51,"button",63),t.NdJ("click",function(){return t.CHM(o),t.oxw().display=!1}),t._uU(52,"Cancel"),t.qZA(),t.TgZ(53,"button",64),t.NdJ("click",function(){return t.CHM(o),t.oxw().Submit()}),t._uU(54,"Submit"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.BQk()}if(2&i){const o=t.oxw();t.xp6(1),t.Q6J("formGroup",o.AllMoviesForm),t.xp6(29),t.Q6J("ngIf",null!=o.posterContentThumb)}}function $(i,r){if(1&i&&(t.TgZ(0,"div",46),t.TgZ(1,"div",47),t._UZ(2,"img",65),t.qZA(),t.qZA()),2&i){const o=t.oxw(2);t.xp6(2),t.Q6J("src",o.posterContentThumb,t.LSH)}}function j(i,r){if(1&i){const o=t.EpF();t.TgZ(0,"form",40),t.TgZ(1,"div",41),t.TgZ(2,"div",42),t.TgZ(3,"div",43),t.TgZ(4,"div",44),t.TgZ(5,"div",45),t.TgZ(6,"div",42),t.TgZ(7,"div",46),t.TgZ(8,"div",47),t.TgZ(9,"label",48),t._uU(10,"Title"),t.qZA(),t._UZ(11,"input",49),t.qZA(),t.qZA(),t.TgZ(12,"div",46),t.TgZ(13,"div",42),t.TgZ(14,"div",46),t.TgZ(15,"div",47),t.TgZ(16,"label",52),t._uU(17,"Movie Poster"),t.qZA(),t.TgZ(18,"input",54),t.NdJ("change",function(n){return t.CHM(o),t.oxw().OnChangePosterContentthumb(n)}),t.qZA(),t.qZA(),t.qZA(),t.YNc(19,$,3,1,"div",55),t.qZA(),t.qZA(),t.qZA(),t.TgZ(20,"div",60),t.TgZ(21,"div",61),t.TgZ(22,"div",62),t.TgZ(23,"button",63),t.NdJ("click",function(){return t.CHM(o),t.oxw().display=!1}),t._uU(24,"Cancel"),t.qZA(),t.TgZ(25,"button",64),t.NdJ("click",function(){return t.CHM(o),t.oxw().Submit()}),t._uU(26,"Submit"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&i){const o=t.oxw();t.Q6J("formGroup",o.PosterForm),t.xp6(19),t.Q6J("ngIf",null!=o.posterContentThumb)}}const z=function(){return[10,50,100]},V=function(){return["title","length","isActive","releaseYear","director","length"]},X=function(){return{width:"70vw",height:"100vh"}},K=function(){return{width:"40vw"}},W=[{path:"all-movies",component:(()=>{class i{constructor(o,e,n,s,a){this.ngxLoader=o,this.fb=e,this.MoviesService=n,this.confirmationService=s,this.toastr=a,this.Status=!0,this.display=!1,this.baseUrl="http://3.88.43.237",this.posterContent=void 0,this.posterContentThumb=void 0,this.AllMoviesForm=this.fb.group({id:[""],title:["",[l.kI.required]],director:["",[l.kI.required]],releaseYear:["",[l.kI.required]],length:["",[l.kI.required]],posterContent:["",[l.kI.required]],posterContentThumb:[""],hours:["",[l.kI.required]],minutes:["",[l.kI.required]],seconds:["",[l.kI.required]],isActive:[""]}),this.PosterForm=this.fb.group({id:[""],title:[""]})}ngOnInit(){this.fgsType=u.aS.squareLoader,this.sidebarSpacing="contracted",this.cols=[{field:"title",show:!0,headers:"Title"},{field:"director",show:!0,headers:"Director"},{field:"releaseYear",show:!0,headers:"Release Year"},{field:"length",show:!0,headers:"Length"},{field:"isActive",show:!0,headers:"Status"},{field:"posterContentThumb",show:!0,headers:"Movie Poster"},{field:"screenshot",show:!0,headers:"ScreenShot"}],this.getMovieList()}onToggleSidebar(o){this.sidebarSpacing="open"===o?"contracted":"expanded"}getMovieList(){this.MoviesService.getMovieList().subscribe(o=>{this.moviesList=o,this.moviesList.map(e=>{e.posterContentThumb=this.baseUrl.concat(e.posterContentThumb),e.HH=this.consverIntoHHMMSS(e.length).HH,e.MM=this.consverIntoHHMMSS(e.length).MM,e.SS=this.consverIntoHHMMSS(e.length).SS}),this.ngxLoader.stop()})}applyFilterGlobal(o,e){this.dt.filterGlobal(o.target.value,e)}EditMovies(o){this.Status=!0;let e=this.moviesList.filter(n=>n.id===o);this.AllMoviesForm.patchValue({title:e[0].title,director:e[0].director,releaseYear:e[0].releaseYear,hours:this.consverIntoHHMMSS(e[0].length).HH,seconds:this.consverIntoHHMMSS(e[0].length).SS,minutes:this.consverIntoHHMMSS(e[0].length).MM}),this.posterContentThumb=e[0].posterContentThumb,this.display=!0}AddMovies(){this.Status=!0,this.AllMoviesForm.reset(),this.display=!0,this.posterContentThumb=null}OnChangePosterContentthumb(o){var e=new FileReader;this.image=o.target.files[0],e.readAsDataURL(o.target.files[0]),e.onload=n=>{this.posterContentThumb=n.target.result}}deleteMovies(o){this.confirmationService.confirm({message:"Are you sure that you want to delete this Movies ?",header:"Confirmation",icon:"pi pi-exclamation-triangle",accept:()=>{this.ngxLoader.start(),this.MoviesService.deleteMovies(o).subscribe(e=>{this.getMovieList()})}})}markAsActive(o,e){this.message=e?"Are you sure that you want to mark as Active":"Are you sure that you want to mark as InActive",this.confirmationService.confirm({message:this.message,header:"Confirmation",icon:"pi pi-exclamation-triangle",accept:()=>{this.ngxLoader.start(),this.MoviesService.markAsActive(o,e).subscribe(n=>{n&&(this.toastr.showSuccess(" Status change successfully","Status change"),this.getMovieList())})}})}consverIntoHHMMSS(o){const e=(o/3600).toString().split(".")[0],n=o%3600;return{MM:(n/60).toString().split(".")[0],HH:e,SS:n%60}}Submit(){const o={Title:this.AllMoviesForm.controls.title.value,Director:this.AllMoviesForm.controls.director.value,ReleaseYear:this.AllMoviesForm.controls.releaseYear.value,Hour:this.AllMoviesForm.controls.hours.value,Minute:this.AllMoviesForm.controls.minutes.value,Seconds:this.AllMoviesForm.controls.seconds.value,IsActive:!0,PosterImage:this.image};this.ngxLoader.start(),this.Status?this.MoviesService.Submit(o).subscribe(e=>{e?(this.toastr.showSuccess(" Status change successfully","Status change"),this.getMovieList()):(this.toastr.showSuccess("somthing going wrong","please check"),this.getMovieList())}):this.submitMoviePosterData()}updateMoviePoster(o){this.Status=!1;let e=this.moviesList.filter(n=>n.id===o);this.PosterForm.patchValue({title:e[0].title,id:o}),this.posterContentThumb=e[0].posterContentThumb,this.display=!0}submitMoviePosterData(){this.display=!1,this.Status=!0,this.MoviesService.submitMoviePosterData({id:this.PosterForm.controls.id.value,PosterImage:this.image}).subscribe(e=>{e?(this.toastr.showSuccess(" Movie poster is updated successfully","movie poster"),this.getMovieList()):(this.toastr.showSuccess("somthing going wrong","please check"),this.getMovieList())})}}return i.\u0275fac=function(o){return new(o||i)(t.Y36(u.LA),t.Y36(l.qu),t.Y36(_.I),t.Y36(g.YP),t.Y36(v.$))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-all-movies"]],viewQuery:function(o,e){if(1&o&&t.Gf(H,5),2&o){let n;t.iGM(n=t.CRH())&&(e.dt=n.first)}},features:[t._Bn([g.YP])],decls:15,vars:26,consts:[[3,"toggleSidebar"],[1,"body","bcard",3,"ngClass"],[1,"card","col-sm-12",2,"border","none"],["id","customerTable","responsiveLayout","scroll","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","styleClass","p-datatable-striped",3,"columns","paginator","rows","rowsPerPageOptions","showCurrentPageReport","value","resizableColumns","responsive","globalFilterFields"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[3,"fgsColor","fgsType"],["header","Add Movies","position","top",3,"visible","modal","baseZIndex","visibleChange"],[4,"ngIf","ngIfElse"],["Poster",""],["header","Confirmation","position","top","icon","pi pi-exclamation-triangle",3,"baseZIndex"],[1,"row"],[1,"p-input-icon-right","ml-5"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search by Title and Length",3,"input"],["pButton","","type","button","label","Add Movie",1,"p-button-success",3,"click"],[3,"pSortableColumn",4,"ngFor","ngForOf"],["pInputText","","type","text","disabled","","placeholder"," No Search",1,"w-full","intputSearch",3,"input"],["pInputText","","type","text","placeholder","Search by Title",1,"w-full","intputSearch",3,"input"],["pInputText","","type","text","placeholder","Search by Director",1,"w-full","intputSearch",3,"input"],["pInputText","","type","text","placeholder","Search by Year",1,"w-full","intputSearch",3,"input"],["pInputText","","type","text","disabled","","placeholder","Search by Length",1,"w-full","intputSearch",3,"input"],["pInputText","","type","text","disabled","","placeholder","Search by Status",1,"w-full","intputSearch",3,"input"],["pInputText","","type","text","disabled","","placeholder","Movie Poster",1,"w-full","intputSearch"],["pInputText","","type","text","disabled","","placeholder","Action",1,"w-full","intputSearch"],[3,"pSortableColumn"],[3,"field"],[1,"btn-grp"],["pTooltip","mark as InActive","pButton","","type","button","class","p-button-success","style","height: 30px;",3,"click",4,"ngIf"],["pButton","","type","button","class","p-button-danger","pTooltip","mark as Active","style","height: 30px",3,"click",4,"ngIf"],[1,"form-control",2,"width","90%","height","8vh",3,"src","click"],["href",""],["pButton","","type","button","icon","pi pi-user-edit","pTooltip","Edit movie","tooltipPosition","bottom",1,"p-button-warning",2,"margin-right","5px",3,"click"],["pButton","","type","button","icon","pi pi-trash","pTooltip","Delete movie","tooltipPosition","bottom",1,"p-button-danger",2,"margin-right","5px",3,"click"],["pTooltip","mark as InActive","pButton","","type","button",1,"p-button-success",2,"height","30px",3,"click"],["pButton","","type","button","pTooltip","mark as Active",1,"p-button-danger",2,"height","30px",3,"click"],["colspan","12",1,"text-center","text-danger","font-weight-700"],[3,"formGroup"],[1,"card","col-sm-12"],[1,"row","gutters"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12","col-12"],[1,"h-100","mt-5"],[1,"card-body"],[1,"col-xl-6","col-lg-6","col-md-6","col-sm-6","col-12"],[1,"form-group"],["for","name"],["type","text","placeholder","Title","formControlName","title",1,"form-control"],["for","image"],["type","text","placeholder","director","formControlName","director",1,"form-control"],["for","Name"],["type","text","placeholder","Release Year","formControlName","releaseYear",1,"form-control"],["type","file","formControlName","posterContentThumb",1,"form-control",3,"change"],["class","col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12",4,"ngIf"],[1,"col-xl-4","col-lg-4","col-md-4","col-sm-4","col-12"],["type","number","placeholder","hours","formControlName","hours",1,"form-control"],["type","number","placeholder","minutes","formControlName","minutes",1,"form-control"],["type","number","placeholder","seconds","formControlName","seconds",1,"form-control"],[1,"row","gutters","mt-4"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12","col-12","mt-4"],[1,"text-right"],["pButton","","type","button","id","submit","name","submit",1,"p-button-danger","mr-4",3,"click"],["pButton","","type","button","id","submit","name","submit",1,"p-button-success",3,"click"],[1,"form-control",2,"width","80%","height","10vh",3,"src"]],template:function(o,e){if(1&o&&(t.TgZ(0,"app-header",0),t.NdJ("toggleSidebar",function(s){return e.onToggleSidebar(s)}),t.qZA(),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"p-table",3,4),t.YNc(5,P,6,0,"ng-template",5),t.YNc(6,Q,25,1,"ng-template",6),t.YNc(7,D,24,10,"ng-template",7),t.YNc(8,G,3,0,"ng-template",8),t.qZA(),t._UZ(9,"ngx-ui-loader",9),t.qZA(),t.TgZ(10,"p-dialog",10),t.NdJ("visibleChange",function(s){return e.display=s}),t.YNc(11,E,55,2,"ng-container",11),t.YNc(12,j,27,2,"ng-template",null,12,t.W1O),t.qZA(),t._UZ(14,"p-confirmDialog",13),t.qZA()),2&o){const n=t.MAs(13);t.xp6(1),t.Q6J("ngClass",e.sidebarSpacing),t.xp6(2),t.Q6J("columns",e.cols)("paginator",!0)("rows",10)("rowsPerPageOptions",t.DdM(22,z))("showCurrentPageReport",!0)("value",e.moviesList)("resizableColumns",!0)("responsive",!0)("globalFilterFields",t.DdM(23,V)),t.xp6(6),t.Q6J("fgsColor","#000000")("fgsType",e.fgsType),t.xp6(1),t.Akn(t.DdM(24,X)),t.Q6J("visible",e.display)("modal",!0)("baseZIndex",1e4),t.xp6(1),t.Q6J("ngIf",!0===e.Status)("ngIfElse",n),t.xp6(3),t.Akn(t.DdM(25,K)),t.Q6J("baseZIndex",1e4)}},directives:[h.G,p.mk,d.iA,g.jx,A.o,f.Hq,p.sg,d.lQ,d.fz,p.O5,T.u,u.Eo,b.V,l._Y,l.JL,l.sg,l.Fj,l.JJ,l.u,l.wV,M.Q],styles:[".btn-grp[_ngcontent-%COMP%]{display:flex}.confirmation-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}[_nghost-%COMP%]     .p-dialog .p-button{min-width:6rem}th[_ngcontent-%COMP%]{background-color:#353d44!important;color:#fff!important}[_nghost-%COMP%]     .p-dialog .p-dialog-header{background-color:#c6c7cd94}"]}),i})()},{path:"active-movies",component:L}];let tt=(()=>{class i{}return i.\u0275fac=function(o){return new(o||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[Z.Bz.forChild(W)],Z.Bz]}),i})();var et=c(5899);let ot=(()=>{class i{}return i.\u0275fac=function(o){return new(o||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[p.ez,et.m,l.u5,l.UX,tt]]}),i})()}}]);
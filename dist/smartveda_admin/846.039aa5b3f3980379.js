"use strict";(self.webpackChunkAdmin_Panel=self.webpackChunkAdmin_Panel||[]).push([[846],{3846:(ot,C,a)=>{a.r(C),a.d(C,{MoviesModule:()=>tt});var m=a(9808),T=a(1083),v=a(8441),l=a(3075),f=a(9783),e=a(5e3),q=a(2866),A=a(7650),y=a(7673),w=a(7398),p=a(6697),k=a(1424),M=a(6526),x=a(845),I=a(4119),S=a(5315),U=a(7446),J=a(9114);const P=["ActiveMovieTable"];function R(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"span",38),e.TgZ(1,"h2",39),e._uU(2,"Active Movies"),e.qZA(),e.qZA(),e.TgZ(3,"div",40),e.TgZ(4,"span",38),e._UZ(5,"i",41),e.TgZ(6,"input",42),e.NdJ("input",function(n){return e.CHM(t),e.oxw().FilterGlobal(n,"contains")}),e.qZA(),e.qZA(),e.TgZ(7,"div",38),e.TgZ(8,"form",11),e._UZ(9,"p-multiSelect",43),e.TgZ(10,"button",44),e.NdJ("click",function(){return e.CHM(t),e.oxw().SelectRequestedColumns()}),e._uU(11,"Submit"),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.oxw();e.xp6(6),e.Q6J("value",t.MovieSearchKeyWord.Gsearch),e.xp6(2),e.Q6J("formGroup",t.columnSelectorForm),e.xp6(1),e.Q6J("options",t.colsOptions)("virtualScroll",!0)}}function Y(i,s){if(1&i&&(e.TgZ(0,"th",49),e._uU(1),e._UZ(2,"p-sortIcon",50),e.qZA()),2&i){const t=s.$implicit;e.Q6J("pSortableColumn",t.field),e.xp6(1),e.hij("",t.headers," "),e.xp6(1),e.Q6J("field",t.field)}}function Q(i,s){1&i&&e._UZ(0,"th",45)}function D(i,s){if(1&i&&(e.ynx(0),e._UZ(1,"th",45),e.YNc(2,Q,1,0,"th",51),e._UZ(3,"th",45),e.BQk()),2&i){const t=e.oxw(2);e.xp6(2),e.Q6J("ngForOf",t.cols)}}function E(i,s){1&i&&e._UZ(0,"th",45)}function W(i,s){if(1&i&&(e._UZ(0,"th",45),e.YNc(1,E,1,0,"th",51),e._UZ(2,"th",45)),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.filteredCols)}}function K(i,s){if(1&i&&(e.TgZ(0,"tr"),e.TgZ(1,"th",45),e._uU(2,"S.no"),e.qZA(),e.YNc(3,Y,3,3,"th",46),e.TgZ(4,"th"),e._uU(5,"Options"),e.qZA(),e.qZA(),e.TgZ(6,"tr"),e.YNc(7,D,4,1,"ng-container",47),e.qZA(),e.YNc(8,W,3,1,"ng-template",null,48,e.W1O)),2&i){const t=e.MAs(9),o=e.oxw();e.xp6(3),e.Q6J("ngForOf",0==o.filteredCols.length?o.cols:o.filteredCols),e.xp6(4),e.Q6J("ngIf",0===o.filteredCols.length)("ngIfElse",t)}}function G(i,s){if(1&i&&(e.TgZ(0,"td"),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(null==t?null:t.title)}}function B(i,s){if(1&i&&(e.TgZ(0,"td"),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(null==t?null:t.director)}}function z(i,s){if(1&i&&(e.TgZ(0,"td"),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(null==t?null:t.releaseYear)}}function j(i,s){if(1&i&&(e.TgZ(0,"td"),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.lnq("",null==t?null:t.HH,":",null==t?null:t.MM,":",null==t?null:t.SS,"")}}function V(i,s){1&i&&(e.TgZ(0,"td"),e.TgZ(1,"button",55),e._uU(2,"Active"),e.qZA(),e.qZA())}function $(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.YNc(3,G,2,1,"td",52),e.YNc(4,B,2,1,"td",52),e.YNc(5,z,2,1,"td",52),e.YNc(6,j,2,3,"td",52),e.YNc(7,V,3,0,"td",52),e.TgZ(8,"td"),e.TgZ(9,"div",53),e.TgZ(10,"button",54),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw().deleteMovies(null==r?null:r.id)}),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=s.rowIndex,o=e.oxw();e.xp6(2),e.Oqu(t+1),e.xp6(1),e.Q6J("ngIf",o.shouldDisplayColumn("Movie title")),e.xp6(1),e.Q6J("ngIf",o.shouldDisplayColumn("Director")),e.xp6(1),e.Q6J("ngIf",o.shouldDisplayColumn("Release Year")),e.xp6(1),e.Q6J("ngIf",o.shouldDisplayColumn("Length")),e.xp6(1),e.Q6J("ngIf",o.shouldDisplayColumn("Is Active"))}}function X(i,s){1&i&&(e.TgZ(0,"tr"),e.TgZ(1,"td",56),e._uU(2," No Records Found. "),e.qZA(),e.qZA())}function ee(i,s){if(1&i&&(e.TgZ(0,"div",17),e.TgZ(1,"div",18),e._UZ(2,"img",57),e.qZA(),e.qZA()),2&i){const t=e.oxw();e.xp6(2),e.Q6J("src",t.imageUrl,e.LSH)}}const te=function(){return[20,50,100]},oe=function(){return["title","length","isActive","director","releaseYear"]},ie=function(){return{width:"60vw",height:"100vh"}},ne=function(){return{width:"40vw"}};let se=(()=>{class i{constructor(t,o,n,r,c,d){this.ngxLoader=t,this.MoviesService=o,this.toastr=n,this.CommonService=r,this.confirmationService=c,this.fb=d,this.moviesList=[],this.display=!1,this.columnSelectorForm=new l.cw({}),this.selectedColumns=[],this.filteredCols=[],this.colsOptions=[],this.ActiveMoviesForm=this.fb.group({Director:["",[l.kI.required]],File:["",[l.kI.required]],IsActive:["",[l.kI.required]],releaseYear:["",[l.kI.required]],Length:["",[l.kI.required]],PosterContent:["",[l.kI.required]],PosterContentThumb:["",[l.kI.required]],Title:["",[l.kI.required]],hours:["",[l.kI.required]],minutes:["",[l.kI.required]],seconds:["",[l.kI.required]],Rating:["",[l.kI.required]]})}ngOnInit(){this.sidebarSpacing="expanded",this.fgsType=v.aS.squareLoader,this.ngxLoader.start(),this.cols=[{field:"title",show:!0,headers:"Movie title"},{field:"director",show:!0,headers:"Director"},{field:"releaseyear",show:!0,headers:"Release Year"},{field:"length",show:!0,headers:"Length"},{field:"isActive",show:!0,headers:"Is Active"}],this.colsOptions=this.cols.map(t=>({label:t.headers,value:t.field})),this.MoviesService.MovieSearchKeyWord.subscribe(t=>{this.MovieSearchKeyWord=t}),this.getMovieList(),this.columnSelectorForm=this.fb.group({selectedColumns:new l.NI([])})}SelectRequestedColumns(){this.selectedColumns=this.columnSelectorForm.controls.selectedColumns.value,this.filteredCols=this.cols.filter(t=>this.selectedColumns.some(o=>o.value===t.field)).map(t=>({headers:t.headers}))}onToggleSidebar(t){this.sidebarSpacing="open"===t?"contracted":"expanded"}shouldDisplayColumn(t){return 0===this.filteredCols.length||this.filteredCols.some(o=>o.headers===t)}getMovieList(){this.MoviesService.getMovieList().subscribe(t=>{this.moviesList=t.filter(o=>!0===o.isActive),this.moviesList.map(o=>{o.HH=this.CommonService.consverIntoHHMMSS(o.length).HH,o.MM=this.CommonService.consverIntoHHMMSS(o.length).MM,o.SS=this.CommonService.consverIntoHHMMSS(o.length).SS}),this.activeMovieSearch(),this.ngxLoader.stop()})}applyFilterGlobal(t,o){switch(t.target.id){case"title":this.MovieSearchKeyWord.title=t.target.value,this.ActiveMovieTable.filter(t.target.value,t.target.id,o);break;case"director":this.MovieSearchKeyWord.director=t.target.value,this.ActiveMovieTable.filter(t.target.value,t.target.id,o);break;case"releaseYear":this.MovieSearchKeyWord.releaseYear=t.target.value,this.ActiveMovieTable.filter(t.target.value,t.target.id,o);break;case"length":this.MovieSearchKeyWord.length=t.target.value,this.ActiveMovieTable.filter(t.target.value,t.target.id,o)}}EditMovies(t){let o=this.moviesList.filter(n=>n.id===t);this.ActiveMoviesForm.patchValue({Director:o[0].director,Title:o[0].title}),this.display=!0}AddMovies(){this.ActiveMoviesForm.reset(),this.display=!0}OnChange(t){this.image=t.target.files;var o=new FileReader;o.readAsDataURL(t.target.files[0]),o.onload=n=>{this.imageUrl=n.target.result}}deleteMovies(t){this.confirmationService.confirm({message:"Are you sure that you want to delete Active Movies ?",header:"Confirmation",icon:"pi pi-exclamation-triangle",accept:()=>{this.ngxLoader.start(),this.MoviesService.deleteMovies(t).subscribe(o=>{this.getMovieList()})}})}ngOnDestroy(){this.MoviesService.MovieSearchKeyWord.next(this.MovieSearchKeyWord),this.CommonService.setMovieSerachWord(this.MovieSearchKeyWord)}activeMovieSearch(){null!=this.MovieSearchKeyWord.title&&this.MovieSearchKeyWord.title.trim().length>0&&this.ActiveMovieTable.filter(this.MovieSearchKeyWord.title,"title","contains"),null!=this.MovieSearchKeyWord.director&&this.MovieSearchKeyWord.director.trim().length>0&&this.ActiveMovieTable.filter(this.MovieSearchKeyWord.director,"director","contains"),null!=this.MovieSearchKeyWord.releaseYear&&this.MovieSearchKeyWord.releaseYear.trim().length>0&&this.ActiveMovieTable.filter(this.MovieSearchKeyWord.releaseYear,"releaseYear","contains"),null!=this.MovieSearchKeyWord.length&&this.MovieSearchKeyWord.length.trim().length>0&&this.ActiveMovieTable.filter(this.MovieSearchKeyWord.length,"length","contains"),null!=this.MovieSearchKeyWord.Gsearch&&this.MovieSearchKeyWord.Gsearch.trim().length>0&&this.ActiveMovieTable.filterGlobal(this.MovieSearchKeyWord.Gsearch,"contains")}FilterGlobal(t,o){this.MovieSearchKeyWord.Gsearch=t.target.value,this.ActiveMovieTable.filterGlobal(t.target.value,o)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(v.LA),e.Y36(q.I),e.Y36(A.$),e.Y36(y.v),e.Y36(f.YP),e.Y36(l.qu))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-active-movies"]],viewQuery:function(t,o){if(1&t&&e.Gf(P,5),2&t){let n;e.iGM(n=e.CRH())&&(o.ActiveMovieTable=n.first)}},features:[e._Bn([f.YP])],decls:71,vars:31,consts:[[3,"toggleSidebar"],[1,"body","bcard",3,"ngClass"],[1,"card","col-sm-12",2,"border","none"],["id","customerTable","columnResizeMode","expand","responsiveLayout","scroll","dataKey","id","stateStorage","session","stateKey","activeMovie-session","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","styleClass","p-datatable-striped",3,"columns","resizableColumns","paginator","rows","rowsPerPageOptions","showCurrentPageReport","value","responsive","globalFilterFields"],["ActiveMovieTable",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[3,"fgsColor","fgsType"],["header","Add Movies","position","top",3,"visible","modal","baseZIndex","visibleChange"],[3,"formGroup"],[1,"card","col-sm-12"],[1,"row","gutters"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12","col-12"],[1,"h-100","mt-5"],[1,"card-body"],[1,"col-xl-6","col-lg-6","col-md-6","col-sm-6","col-12"],[1,"form-group"],["for","name"],["type","text","formControlName","Title",1,"form-control"],["for","image"],["type","text","formControlName","Director",1,"form-control"],["for","Name"],["type","date","formControlName","releaseYear",1,"form-control"],["for","type","id","label"],["formControlName","Rating","placeholder","Select Rating",1,"form-control"],[3,"value"],[1,"example-section"],[1,"example-margin"],["type","file",1,"form-control",3,"change"],["class","col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12",4,"ngIf"],[1,"row","gutters","mt-4"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12","col-12","mt-4"],[1,"text-right"],["pButton","","type","button","id","submit","name","submit",1,"p-button-danger","mr-4",3,"click"],["pButton","","type","button","id","submit","name","submit",1,"p-button-success"],["header","Confirmation","position","top","icon","pi pi-exclamation-triangle",3,"baseZIndex"],[1,"p-input-icon-right","ml-5"],[2,"font-family","'Times New Roman', Times, serif"],[1,"row"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search by columnName",3,"value","input"],["optionLabel","label","formControlName","selectedColumns","display","chip","defaultLabel","Select Columns to display",3,"options","virtualScroll"],["pButton","","type","button","id","submit","name","submit",1,"p-button-primary",2,"margin-left","8px","margin-bottom","6.7px","height","30px",3,"click"],["pResizableColumn",""],["pResizableColumn","",3,"pSortableColumn",4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],["colsTemplate",""],["pResizableColumn","",3,"pSortableColumn"],[3,"field"],["pResizableColumn","",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"btn-grp"],["pButton","","type","button","icon","pi pi-trash","pTooltip","Delete movie","tooltipPosition","bottom",1,"p-button-danger",2,"margin-right","5px",3,"click"],["pButton","","type","button",1,"p-button-success",2,"height","30px"],["colspan","12",1,"text-center","text-danger","font-weight-700"],[1,"form-control",2,"width","80%","height","10vh",3,"src"]],template:function(t,o){1&t&&(e.TgZ(0,"app-header",0),e.NdJ("toggleSidebar",function(r){return o.onToggleSidebar(r)}),e.qZA(),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"p-table",3,4),e.YNc(5,R,12,4,"ng-template",5),e.YNc(6,K,10,3,"ng-template",6),e.YNc(7,$,11,6,"ng-template",7),e.YNc(8,X,3,0,"ng-template",8),e.qZA(),e._UZ(9,"ngx-ui-loader",9),e.qZA(),e.TgZ(10,"p-dialog",10),e.NdJ("visibleChange",function(r){return o.display=r}),e.TgZ(11,"form",11),e.TgZ(12,"div",12),e.TgZ(13,"div",13),e.TgZ(14,"div",14),e.TgZ(15,"div",15),e.TgZ(16,"div",16),e.TgZ(17,"div",13),e.TgZ(18,"div",17),e.TgZ(19,"div",18),e.TgZ(20,"label",19),e._uU(21,"Title"),e.qZA(),e._UZ(22,"input",20),e.qZA(),e.qZA(),e.TgZ(23,"div",17),e.TgZ(24,"div",18),e.TgZ(25,"label",21),e._uU(26,"Director "),e.qZA(),e._UZ(27,"input",22),e.qZA(),e.qZA(),e.TgZ(28,"div",17),e.TgZ(29,"div",18),e.TgZ(30,"label",23),e._uU(31,"Release Year"),e.qZA(),e._UZ(32,"input",24),e.qZA(),e.qZA(),e.TgZ(33,"div",17),e.TgZ(34,"div",13),e.TgZ(35,"div",17),e.TgZ(36,"label",25),e._uU(37,"Rating"),e.qZA(),e.TgZ(38,"div",18),e.TgZ(39,"select",26),e.TgZ(40,"option",27),e._uU(41,"1"),e.qZA(),e.TgZ(42,"option",27),e._uU(43,"2"),e.qZA(),e.TgZ(44,"option",27),e._uU(45,"3"),e.qZA(),e.TgZ(46,"option",27),e._uU(47,"5"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(48,"div",17),e.TgZ(49,"section",28),e.TgZ(50,"mat-checkbox",29),e._uU(51,"Enabled"),e.qZA(),e.qZA(),e.TgZ(52,"section",28),e.TgZ(53,"mat-checkbox",29),e._uU(54,"Featured"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(55,"div",17),e.TgZ(56,"div",13),e.TgZ(57,"div",17),e.TgZ(58,"div",18),e.TgZ(59,"label",23),e._uU(60,"Movies Poster"),e.qZA(),e.TgZ(61,"input",30),e.NdJ("change",function(r){return o.OnChange(r)}),e.qZA(),e.qZA(),e.qZA(),e.YNc(62,ee,3,1,"div",31),e.qZA(),e.qZA(),e.qZA(),e.TgZ(63,"div",32),e.TgZ(64,"div",33),e.TgZ(65,"div",34),e.TgZ(66,"button",35),e.NdJ("click",function(){return o.display=!1}),e._uU(67,"Cancel"),e.qZA(),e.TgZ(68,"button",36),e._uU(69,"Submit"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e._UZ(70,"p-confirmDialog",37),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngClass",o.sidebarSpacing),e.xp6(2),e.Q6J("columns",o.cols)("resizableColumns",!0)("paginator",!0)("rows",20)("rowsPerPageOptions",e.DdM(27,te))("showCurrentPageReport",!0)("value",o.moviesList)("resizableColumns",!0)("responsive",!0)("globalFilterFields",e.DdM(28,oe)),e.xp6(6),e.Q6J("fgsColor","#000000")("fgsType",o.fgsType),e.xp6(1),e.Akn(e.DdM(29,ie)),e.Q6J("visible",o.display)("modal",!0)("baseZIndex",1e4),e.xp6(1),e.Q6J("formGroup",o.ActiveMoviesForm),e.xp6(29),e.Q6J("value",1),e.xp6(2),e.Q6J("value",2),e.xp6(2),e.Q6J("value",3),e.xp6(2),e.Q6J("value",5),e.xp6(16),e.Q6J("ngIf",null!=o.imageUrl),e.xp6(8),e.Akn(e.DdM(30,ne)),e.Q6J("baseZIndex",1e4))},directives:[w.G,m.mk,p.iA,f.jx,k.o,l._Y,l.JL,l.sg,M.NU,l.JJ,l.u,x.Hq,p.Q7,m.sg,p.lQ,p.fz,m.O5,I.u,v.Eo,S.V,l.Fj,l.EJ,l.YN,l.Kr,U.oG,J.Q],styles:[".btn-grp[_ngcontent-%COMP%]{display:flex}th[_ngcontent-%COMP%]{background-color:#353d44!important;color:#fff!important}td[_ngcontent-%COMP%]{text-align:left!important;font-size:200!important}[_nghost-%COMP%]     .p-dialog .p-dialog-header{background-color:#c6c7cd94}[_nghost-%COMP%]     .p-menuitem-link-active{background-color:#900!important;color:#fff}"]}),i})();const le=["AllMovieTable"];function re(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",13),e.TgZ(1,"span",14),e.TgZ(2,"h2",15),e._uU(3," All Movies "),e.qZA(),e.qZA(),e.TgZ(4,"span",14),e._UZ(5,"i",16),e.TgZ(6,"input",17),e.NdJ("input",function(n){return e.CHM(t),e.oxw().FilterGlobal(n,"contains")}),e.qZA(),e.qZA(),e.TgZ(7,"div",14),e.TgZ(8,"form",18),e._UZ(9,"p-multiSelect",19),e.TgZ(10,"button",20),e.NdJ("click",function(){return e.CHM(t),e.oxw().SelectRequestedColumns()}),e._uU(11," Submit "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(12,"span",14),e.TgZ(13,"button",21),e.NdJ("click",function(){return e.CHM(t),e.oxw().AddMovies()}),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.oxw();e.xp6(6),e.Q6J("value",t.MovieSearchKeyWord.Gsearch),e.xp6(2),e.Q6J("formGroup",t.columnSelectorForm),e.xp6(1),e.Q6J("options",t.colsOptions)("virtualScroll",!0)}}function ae(i,s){if(1&i&&(e.TgZ(0,"th",24),e._uU(1),e._UZ(2,"p-sortIcon",25),e.qZA()),2&i){const t=s.$implicit;e.Q6J("pSortableColumn",t.field),e.xp6(1),e.hij(" ",t.headers," "),e.xp6(1),e.Q6J("field",t.field)}}function ce(i,s){if(1&i&&(e.TgZ(0,"tr"),e.TgZ(1,"th",22),e._uU(2,"S.no"),e.qZA(),e.YNc(3,ae,3,3,"th",23),e.TgZ(4,"th",22),e._uU(5,"Action"),e.qZA(),e.qZA()),2&i){const t=e.oxw();e.xp6(3),e.Q6J("ngForOf",0==t.filteredCols.length?t.cols:t.filteredCols)}}function de(i,s){if(1&i&&(e.TgZ(0,"td"),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",null==t?null:t.title," ")}}function ge(i,s){if(1&i&&(e.TgZ(0,"td"),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",null==t?null:t.director," ")}}function me(i,s){if(1&i&&(e.TgZ(0,"td"),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",null==t?null:t.releaseYear," ")}}function ue(i,s){if(1&i&&(e.TgZ(0,"td"),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.lnq(" ",null==t?null:t.HH,":",null==t?null:t.MM,":",null==t?null:t.SS," ")}}function he(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",32),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2).$implicit;return e.oxw().markAsActive(null==n?null:n.id,!1)}),e._uU(1," Active "),e.qZA()}}function pe(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",33),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2).$implicit;return e.oxw().markAsActive(null==n?null:n.id,!0)}),e._uU(1," InActive "),e.qZA()}}function _e(i,s){if(1&i&&(e.TgZ(0,"td"),e.TgZ(1,"div",27),e.YNc(2,he,2,0,"button",30),e.YNc(3,pe,2,0,"button",31),e.qZA(),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(2),e.Q6J("ngIf",1==t.isActive),e.xp6(1),e.Q6J("ngIf",0==t.isActive)}}function ve(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"td"),e.TgZ(1,"img",34),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit;return e.oxw().updateMoviePoster(null==n?null:n.id)}),e.qZA(),e.qZA()}if(2&i){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("src",null==t?null:t.posterContentThumb,e.LSH)}}function fe(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"td",35),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit;return e.oxw().redirectToAdminSS(n.id,n.title)}),e.TgZ(1,"a",36),e._uU(2,"ScreenShots"),e.qZA(),e.qZA()}}function Ze(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.YNc(3,de,2,1,"td",11),e.YNc(4,ge,2,1,"td",11),e.YNc(5,me,2,1,"td",11),e.YNc(6,ue,2,3,"td",11),e.YNc(7,_e,4,2,"td",11),e.YNc(8,ve,2,1,"td",11),e.YNc(9,fe,3,0,"td",26),e.TgZ(10,"td"),e.TgZ(11,"div",27),e.TgZ(12,"button",28),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw().EditMovies(null==r?null:r.id)}),e.qZA(),e.TgZ(13,"button",29),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw().deleteMovies(null==r?null:r.id)}),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=s.rowIndex,o=e.oxw();e.xp6(2),e.Oqu(t+1),e.xp6(1),e.Q6J("ngIf",o.shouldDisplayColumn("Movie Title")),e.xp6(1),e.Q6J("ngIf",o.shouldDisplayColumn("Director")),e.xp6(1),e.Q6J("ngIf",o.shouldDisplayColumn("Release Year")),e.xp6(1),e.Q6J("ngIf",o.shouldDisplayColumn("Length")),e.xp6(1),e.Q6J("ngIf",o.shouldDisplayColumn("Status")),e.xp6(1),e.Q6J("ngIf",o.shouldDisplayColumn("Movie Poster")),e.xp6(1),e.Q6J("ngIf",o.shouldDisplayColumn("admin-ss"))}}function be(i,s){1&i&&(e.TgZ(0,"tr"),e.TgZ(1,"td",37),e._uU(2," No Records Found. "),e.qZA(),e.qZA())}function Te(i,s){if(1&i&&(e.TgZ(0,"div",43),e.TgZ(1,"div",44),e._UZ(2,"img",62),e.qZA(),e.qZA()),2&i){const t=e.oxw(2);e.xp6(2),e.Q6J("src",t.posterContentThumb,e.LSH)}}function Ae(i,s){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"form",18),e.TgZ(2,"div",38),e.TgZ(3,"div",39),e.TgZ(4,"div",40),e.TgZ(5,"div",41),e.TgZ(6,"div",42),e.TgZ(7,"div",39),e.TgZ(8,"div",43),e.TgZ(9,"div",44),e.TgZ(10,"label",45),e._uU(11,"Title"),e.qZA(),e._UZ(12,"input",46),e.qZA(),e.qZA(),e.TgZ(13,"div",43),e.TgZ(14,"div",44),e.TgZ(15,"label",47),e._uU(16,"Director "),e.qZA(),e._UZ(17,"input",48),e.qZA(),e.qZA(),e.TgZ(18,"div",43),e.TgZ(19,"div",44),e.TgZ(20,"label",49),e._uU(21,"Release Year"),e.qZA(),e._UZ(22,"input",50),e.qZA(),e.qZA(),e.TgZ(23,"div",43),e.TgZ(24,"div",39),e.TgZ(25,"div",43),e.TgZ(26,"div",44),e.TgZ(27,"label",49),e._uU(28,"Movie Poster"),e.qZA(),e.TgZ(29,"input",51),e.NdJ("change",function(n){return e.CHM(t),e.oxw().OnChangePosterContentthumb(n)}),e.qZA(),e.qZA(),e.qZA(),e.YNc(30,Te,3,1,"div",52),e.qZA(),e.qZA(),e.TgZ(31,"div",43),e.TgZ(32,"div",39),e.TgZ(33,"div",53),e.TgZ(34,"div",44),e.TgZ(35,"label",49),e._uU(36,"HH"),e.qZA(),e._UZ(37,"input",54),e.qZA(),e.qZA(),e.TgZ(38,"div",53),e.TgZ(39,"div",44),e.TgZ(40,"label",49),e._uU(41,"MM"),e.qZA(),e._UZ(42,"input",55),e.qZA(),e.qZA(),e.TgZ(43,"div",53),e.TgZ(44,"div",44),e.TgZ(45,"label",49),e._uU(46,"SS"),e.qZA(),e._UZ(47,"input",56),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(48,"div",57),e.TgZ(49,"div",58),e.TgZ(50,"div",59),e.TgZ(51,"button",60),e.NdJ("click",function(){return e.CHM(t),e.oxw().display=!1}),e._uU(52," Cancel "),e.qZA(),e.TgZ(53,"button",61),e.NdJ("click",function(){return e.CHM(t),e.oxw().Submit()}),e._uU(54," Submit "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.BQk()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("formGroup",t.AllMoviesForm),e.xp6(29),e.Q6J("ngIf",null!=t.posterContentThumb)}}function Me(i,s){if(1&i&&(e.TgZ(0,"div",43),e.TgZ(1,"div",44),e._UZ(2,"img",62),e.qZA(),e.qZA()),2&i){const t=e.oxw(2);e.xp6(2),e.Q6J("src",t.posterContentThumb,e.LSH)}}function xe(i,s){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"form",18),e.TgZ(2,"div",63),e.TgZ(3,"div",39),e.TgZ(4,"div",40),e.TgZ(5,"div",41),e.TgZ(6,"div",42),e.TgZ(7,"div",39),e.TgZ(8,"div",43),e.TgZ(9,"div",44),e.TgZ(10,"label",45),e._uU(11,"Title"),e.qZA(),e._UZ(12,"input",46),e.qZA(),e.qZA(),e.TgZ(13,"div",43),e.TgZ(14,"div",39),e.TgZ(15,"div",43),e.TgZ(16,"div",44),e.TgZ(17,"label",49),e._uU(18,"Movie Poster"),e.qZA(),e.TgZ(19,"input",51),e.NdJ("change",function(n){return e.CHM(t),e.oxw().OnChangePosterContentthumb(n)}),e.qZA(),e.qZA(),e.qZA(),e.YNc(20,Me,3,1,"div",52),e.qZA(),e.qZA(),e.qZA(),e.TgZ(21,"div",57),e.TgZ(22,"div",58),e.TgZ(23,"div",59),e.TgZ(24,"button",60),e.NdJ("click",function(){return e.CHM(t),e.oxw().display=!1}),e._uU(25," Cancel "),e.qZA(),e.TgZ(26,"button",61),e.NdJ("click",function(){return e.CHM(t),e.oxw().submitMoviePosterData()}),e._uU(27," Submit "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.BQk()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("formGroup",t.PosterForm),e.xp6(19),e.Q6J("ngIf",null!=t.posterContentThumb)}}function Se(i,s){if(1&i&&(e.TgZ(0,"div",43),e.TgZ(1,"div",44),e._UZ(2,"img",62),e.qZA(),e.qZA()),2&i){const t=e.oxw(2);e.xp6(2),e.Q6J("src",t.screenShotImage,e.LSH)}}function Ce(i,s){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"form",18),e.TgZ(2,"div",63),e.TgZ(3,"div",39),e.TgZ(4,"div",40),e.TgZ(5,"div",41),e.TgZ(6,"div",42),e.TgZ(7,"div",39),e.TgZ(8,"div",43),e.TgZ(9,"div",44),e.TgZ(10,"label",45),e._uU(11,"Title"),e.qZA(),e._UZ(12,"input",46),e.qZA(),e.qZA(),e.TgZ(13,"div",43),e.TgZ(14,"div",39),e.TgZ(15,"div",43),e.TgZ(16,"div",44),e.TgZ(17,"label",49),e._uU(18,"Screenshot"),e.qZA(),e.TgZ(19,"input",51),e.NdJ("change",function(n){return e.CHM(t),e.oxw().OnchangeScreenShot(n)}),e.qZA(),e.qZA(),e.qZA(),e.YNc(20,Se,3,1,"div",52),e.qZA(),e.qZA(),e.qZA(),e.TgZ(21,"div",57),e.TgZ(22,"div",58),e.TgZ(23,"div",59),e.TgZ(24,"button",60),e.NdJ("click",function(){return e.CHM(t),e.oxw().display=!1}),e._uU(25," Cancel "),e.qZA(),e.TgZ(26,"button",61),e.NdJ("click",function(){return e.CHM(t),e.oxw().submitMoviePosterData()}),e._uU(27," Submit "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.BQk()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("formGroup",t.PosterForm),e.xp6(19),e.Q6J("ngIf",null!=t.screenShotImage)}}const qe=function(){return[20,50,100]},ye=function(){return["title","length","isActive","releaseYear","director"]},we=function(){return{width:"70vw",height:"100vh"}},ke=function(){return{width:"40vw"}};let N=(()=>{class i{constructor(t,o,n,r,c,d,g){this.ngxLoader=t,this.fb=o,this.MoviesService=n,this.CommonService=r,this.confirmationService=c,this.toastr=d,this.router=g,this.addEditMovie=!1,this.editMode=!1,this.screenshot=!1,this.moviePoster=!1,this.display=!1,this.baseUrl="http://44.211.90.48",this.posterContent=void 0,this.posterContentThumb=void 0,this.screenShotImage=void 0,this.columnSelectorForm=new l.cw({}),this.colsOptions=[],this.selectedColumns=[],this.filteredCols=[],this.AllMoviesForm=this.fb.group({id:[""],title:["",[l.kI.required]],director:["",[l.kI.required]],releaseYear:["",[l.kI.required]],length:["",[l.kI.required]],posterContent:["",[l.kI.required]],posterContentThumb:[""],hours:["",[l.kI.required]],minutes:["",[l.kI.required]],seconds:["",[l.kI.required]],isActive:[""]}),this.PosterForm=this.fb.group({id:[""],title:[""]}),this.columnSelectorForm=this.fb.group({selectedColumns:new l.NI([])})}ngOnInit(){this.sidebarSpacing="expanded",this.fgsType=v.aS.squareLoader,this.ngxLoader.start(),this.cols=[{field:"title",show:!0,headers:"Movie Title"},{field:"director",show:!0,headers:"Director"},{field:"releaseYear",show:!0,headers:"Release Year"},{field:"length",show:!0,headers:"Length"},{field:"isActive",show:!0,headers:"Status"},{field:"posterContentThumb",show:!0,headers:"Movie Poster"},{field:"admin-ss",show:!0,headers:"Screenshots"}],this.MoviesService.MovieSearchKeyWord.subscribe(t=>{this.MovieSearchKeyWord=t}),this.colsOptions=this.cols.map(t=>({label:t.headers,value:t.field})),this.getMovieList()}SelectRequestedColumns(){this.selectedColumns=this.columnSelectorForm.controls.selectedColumns.value,this.filteredCols=this.cols.filter(t=>this.selectedColumns.some(o=>o.value===t.field)).map(t=>({headers:t.headers}))}shouldDisplayColumn(t){return 0===this.filteredCols.length||this.filteredCols.some(o=>o.headers===t)}onToggleSidebar(t){this.sidebarSpacing="open"===t?"contracted":"expanded"}getMovieList(){this.MoviesService.getMovieList().subscribe(t=>{this.moviesList=t,this.moviesList.map(o=>{o.posterContentThumb=this.baseUrl.concat(o.posterContentThumb),o.HH=this.CommonService.consverIntoHHMMSS(o.length).HH,o.MM=this.CommonService.consverIntoHHMMSS(o.length).MM,o.SS=this.CommonService.consverIntoHHMMSS(o.length).SS}),this.allMovieSearch(),this.ngxLoader.stop()})}applyFilterGlobal(t,o){switch(t.target.id){case"title":this.MovieSearchKeyWord.title=t.target.value,this.AllMovieTable.filter(t.target.value,t.target.id,o);break;case"director":this.MovieSearchKeyWord.director=t.target.value,this.AllMovieTable.filter(t.target.value,t.target.id,o);break;case"releaseYear":this.MovieSearchKeyWord.releaseYear=t.target.value,this.AllMovieTable.filter(t.target.value,t.target.id,o);break;case"length":this.MovieSearchKeyWord.length=t.target.value,this.AllMovieTable.filter(t.target.value,t.target.id,o)}}EditMovies(t){this.addEditMovie=!0,this.editMode=!0;let o=this.moviesList.filter(n=>n.id===t);this.AllMoviesForm.patchValue({id:t,title:o[0].title,director:o[0].director,releaseYear:o[0].releaseYear,hours:this.CommonService.consverIntoHHMMSS(o[0].length).HH,seconds:this.CommonService.consverIntoHHMMSS(o[0].length).SS,minutes:this.CommonService.consverIntoHHMMSS(o[0].length).MM}),this.posterContentThumb=o[0].posterContentThumb,this.headerMessage="Edit Movie",this.display=!0}AddMovies(){this.headerMessage="Add Movie",this.addEditMovie=!0,this.editMode=!1,this.AllMoviesForm.reset(),this.display=!0,this.posterContentThumb=null}OnChangePosterContentthumb(t){var o=new FileReader;this.image=t.target.files[0],o.readAsDataURL(t.target.files[0]),o.onload=n=>{this.posterContentThumb=n.target.result}}OnchangeScreenShot(t){var o=new FileReader;this.image=t.target.files[0],o.readAsDataURL(t.target.files[0]),o.onload=n=>{this.screenShotImage=n.target.result}}deleteMovies(t){this.confirmationService.confirm({message:"Are you sure that you want to delete this Movies ?",header:"Confirmation",icon:"pi pi-exclamation-triangle",accept:()=>{this.ngxLoader.start(),this.MoviesService.deleteMovies(t).subscribe(o=>{this.getMovieList()})}})}redirectToAdminSS(t,o){this.router.navigate([`/Movies/admin-screenshots/${t}/${o}`])}markAsActive(t,o){this.message=o?"Are you sure that you want to mark as Active":"Are you sure that you want to mark as InActive",this.confirmationService.confirm({message:this.message,header:"Confirmation",icon:"pi pi-exclamation-triangle",accept:()=>{this.ngxLoader.start();let n=this.moviesList.filter(r=>r.id===t);n[0].posterContentThumb=n[0].posterContentThumb.split("http://44.211.90.48/")[1],n[0].isActive=o,this.MoviesService.markAsActive(n[0]).subscribe(r=>{r&&(this.toastr.showSuccess(" Status change successfully","Status change"),this.getMovieList())})}})}Submit(){const o=this.AllMoviesForm.controls.title.value,n=this.AllMoviesForm.controls.director.value,r=this.AllMoviesForm.controls.releaseYear.value,c=this.AllMoviesForm.controls.hours.value,d=this.AllMoviesForm.controls.minutes.value,g=this.AllMoviesForm.controls.seconds.value,u=this.image;if(o&&n&&r&&c&&d&&g&&u){const b={id:this.AllMoviesForm.controls.id.value,Title:o,Director:n,ReleaseYear:r,Hour:c,Minute:d,Seconds:g,IsActive:!1,PosterImage:u};this.ngxLoader.start(),this.editMode&&this.MoviesService.editMovies(b).subscribe(h=>{h?(this.toastr.showSuccess("Movie data is updated successfully","movie data"),this.display=!1,this.getMovieList()):(this.toastr.showSuccess("Something going wrong","Please check"),this.display=!1,this.getMovieList())}),this.editMode||this.MoviesService.Submit(b).subscribe({next:h=>{this.toastr.showSuccess("Movie is added successfully","Movie data"),this.display=!1,this.getMovieList()},error:h=>{this.display=!1,this.getMovieList(),alert(h.error.message),console.log(h.error.message),this.toastr.showWarning("Something going wrong","Please check"),this.display=!1,this.getMovieList()},complete:()=>{}})}else this.toastr.showWarning("Please fill out all the fields before submitting the form","Form incomplete")}updateMoviePoster(t){this.headerMessage="Upload Movie Poster",this.addEditMovie=!1,this.moviePoster=!0,this.screenshot=!1;let o=this.moviesList.filter(n=>n.id===t);this.PosterForm.patchValue({title:o[0].title,id:t}),this.posterContentThumb=o[0].posterContentThumb,this.display=!0}submitMoviePosterData(){const t=this.PosterForm.controls.id.value,o=this.image;if(t&&o){const n={id:t,PosterImage:o};this.display=!1,this.ngxLoader.start(),this.MoviesService.submitMoviePosterData(n).subscribe(r=>{r?(this.toastr.showSuccess("Movie poster is updated successfully","Movie poster"),this.display=!1,this.getMovieList()):(this.toastr.showSuccess("somthing going wrong","please check"),this.display=!1,this.getMovieList())})}else this.toastr.showWarning("Please fill out all the fields before submitting the form","Form incomplete")}ngOnDestroy(){this.MoviesService.MovieSearchKeyWord.next(this.MovieSearchKeyWord),this.CommonService.setMovieSerachWord(this.MovieSearchKeyWord)}allMovieSearch(){null!=this.MovieSearchKeyWord.title&&this.MovieSearchKeyWord.title.trim().length>0&&this.AllMovieTable.filter(this.MovieSearchKeyWord.title,"title","contains"),null!=this.MovieSearchKeyWord.director&&this.MovieSearchKeyWord.director.trim().length>0&&this.AllMovieTable.filter(this.MovieSearchKeyWord.director,"director","contains"),null!=this.MovieSearchKeyWord.releaseYear&&this.MovieSearchKeyWord.releaseYear.trim().length>0&&this.AllMovieTable.filter(this.MovieSearchKeyWord.releaseYear,"releaseYear","contains"),null!=this.MovieSearchKeyWord.length&&this.MovieSearchKeyWord.length.trim().length>0&&this.AllMovieTable.filter(this.MovieSearchKeyWord.length,"length","contains"),null!=this.MovieSearchKeyWord.Gsearch&&this.MovieSearchKeyWord.Gsearch.trim().length>0&&this.AllMovieTable.filterGlobal(this.MovieSearchKeyWord.Gsearch,"contains")}FilterGlobal(t,o){this.MovieSearchKeyWord.Gsearch=t.target.value,this.AllMovieTable.filterGlobal(t.target.value,o)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(v.LA),e.Y36(l.qu),e.Y36(q.I),e.Y36(y.v),e.Y36(f.YP),e.Y36(A.$),e.Y36(T.F0))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-all-movies"]],viewQuery:function(t,o){if(1&t&&e.Gf(le,5),2&t){let n;e.iGM(n=e.CRH())&&(o.AllMovieTable=n.first)}},features:[e._Bn([f.YP])],decls:15,vars:28,consts:[[3,"toggleSidebar"],[1,"body","bcard",3,"ngClass"],[1,"card","col-sm-12",2,"border","none"],["id","customerTable","responsiveLayout","scroll","scrollHeight","70vh","dataKey","id","stateStorage","session","stateKey","AllMovie-session","columnResizeMode","expand","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","styleClass","p-datatable-striped",3,"columns","paginator","rows","rowsPerPageOptions","showCurrentPageReport","value","resizableColumns","responsive","globalFilterFields"],["AllMovieTable",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[3,"fgsColor","fgsType"],["position","top",3,"visible","modal","header","baseZIndex","visibleChange"],[4,"ngIf"],["header","Confirmation","position","top","icon","pi pi-exclamation-triangle",3,"baseZIndex"],[1,"row"],[1,"p-input-icon-right","ml-5"],[2,"font-family","'Times New Roman', Times, serif"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search by columnName",3,"value","input"],[3,"formGroup"],["optionLabel","label","formControlName","selectedColumns","display","chip","defaultLabel","Select Columns to display",3,"options","virtualScroll"],["pButton","","type","button","id","submit","name","submit",1,"p-button-primary",2,"margin-left","8px","margin-bottom","6.7px","height","30px",3,"click"],["pButton","","type","button","label","Add Movie",1,"p-button-success",2,"margin-left","2rem","width","10rem",3,"click"],["pResizableColumn",""],["pResizableColumn","",3,"pSortableColumn",4,"ngFor","ngForOf"],["pResizableColumn","",3,"pSortableColumn"],[3,"field"],[3,"click",4,"ngIf"],[1,"btn-grp"],["pButton","","type","button","icon","pi pi-user-edit","pTooltip","Edit movie","tooltipPosition","bottom",1,"p-button-warning",2,"margin-right","5px",3,"click"],["pButton","","type","button","icon","pi pi-trash","pTooltip","Delete movie","tooltipPosition","bottom",1,"p-button-danger",2,"margin-right","5px",3,"click"],["pTooltip","mark as InActive","pButton","","type","button","class","p-button-success","style","height: 30px; width: 6rem; padding-left: 1.63rem",3,"click",4,"ngIf"],["pButton","","type","button","class","p-button-danger","pTooltip","mark as Active","style","height: 30px",3,"click",4,"ngIf"],["pTooltip","mark as InActive","pButton","","type","button",1,"p-button-success",2,"height","30px","width","6rem","padding-left","1.63rem",3,"click"],["pButton","","type","button","pTooltip","mark as Active",1,"p-button-danger",2,"height","30px",3,"click"],[1,"form-control",2,"width","90%","height","auto","max-height","8vh","cursor","pointer",3,"src","click"],[3,"click"],["target","_blank",2,"color","blue","cursor","pointer"],["colspan","12",1,"text-center","text-danger","font-weight-700"],[1,"card","col-sm-12",2,"height","100vh"],[1,"row","gutters"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12","col-12"],[1,"h-100","mt-5"],[1,"card-body"],[1,"col-xl-6","col-lg-6","col-md-6","col-sm-6","col-12"],[1,"form-group"],["for","name"],["type","text","placeholder","Title","formControlName","title",1,"form-control"],["for","image"],["type","text","placeholder","Director","formControlName","director",1,"form-control"],["for","Name"],["type","text","placeholder","Release Year","formControlName","releaseYear",1,"form-control"],["type","file","formControlName","posterContentThumb",1,"form-control",3,"change"],["class","col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12",4,"ngIf"],[1,"col-xl-4","col-lg-4","col-md-4","col-sm-4","col-12"],["type","number","placeholder","Hours","formControlName","hours",1,"form-control"],["type","number","placeholder","Minutes","formControlName","minutes",1,"form-control"],["type","number","placeholder","Seconds","formControlName","seconds",1,"form-control"],[1,"row","gutters","mt-4"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12","col-12","mt-4"],[1,"text-right"],["pButton","","type","button","id","submit","name","submit",1,"p-button-danger","mr-4",3,"click"],["pButton","","type","button","id","submit","name","submit",1,"p-button-success",3,"click"],[1,"form-control",2,"width","80%","height","10vh",3,"src"],[1,"card","col-sm-12",2,"height","70vh"]],template:function(t,o){1&t&&(e.TgZ(0,"app-header",0),e.NdJ("toggleSidebar",function(r){return o.onToggleSidebar(r)}),e.qZA(),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"p-table",3,4),e.YNc(5,re,14,4,"ng-template",5),e.YNc(6,ce,6,1,"ng-template",6),e.YNc(7,Ze,14,8,"ng-template",7),e.YNc(8,be,3,0,"ng-template",8),e.qZA(),e._UZ(9,"ngx-ui-loader",9),e.qZA(),e.TgZ(10,"p-dialog",10),e.NdJ("visibleChange",function(r){return o.display=r}),e.YNc(11,Ae,55,2,"ng-container",11),e.YNc(12,xe,28,2,"ng-container",11),e.YNc(13,Ce,28,2,"ng-container",11),e.qZA(),e._UZ(14,"p-confirmDialog",12),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngClass",o.sidebarSpacing),e.xp6(2),e.Q6J("columns",o.cols)("paginator",!0)("rows",20)("rowsPerPageOptions",e.DdM(24,qe))("showCurrentPageReport",!0)("value",o.moviesList)("resizableColumns",!0)("responsive",!0)("globalFilterFields",e.DdM(25,ye)),e.xp6(6),e.Q6J("fgsColor","#000000")("fgsType",o.fgsType),e.xp6(1),e.Akn(e.DdM(26,we)),e.Q6J("visible",o.display)("modal",!0)("header",o.headerMessage)("baseZIndex",1e4),e.xp6(1),e.Q6J("ngIf",o.addEditMovie),e.xp6(1),e.Q6J("ngIf",o.moviePoster),e.xp6(1),e.Q6J("ngIf",o.screenshot),e.xp6(1),e.Akn(e.DdM(27,ke)),e.Q6J("baseZIndex",1e4))},directives:[w.G,m.mk,p.iA,f.jx,k.o,l._Y,l.JL,l.sg,M.NU,l.JJ,l.u,x.Hq,p.Q7,m.sg,p.lQ,p.fz,m.O5,I.u,v.Eo,S.V,l.Fj,l.wV,J.Q],styles:[".btn-grp[_ngcontent-%COMP%]{display:flex}.confirmation-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}[_nghost-%COMP%]     .p-datatable .p-datatable-thead>tr>th{position:sticky;top:0;z-index:9}[_nghost-%COMP%]     .p-dialog .p-button{min-width:6rem}th[_ngcontent-%COMP%]{background-color:#353d44!important;color:#fff!important}td[_ngcontent-%COMP%]{text-align:left!important;font-size:200!important}[_nghost-%COMP%]     .p-dialog .p-dialog-header{background-color:#c6c7cd94}[_nghost-%COMP%]     .p-menuitem-link-active{background-color:#900!important;color:#fff}[_nghost-%COMP%]     .p-multiselect{min-width:20rem;max-width:20rem;height:auto}"]}),i})();var Z=a(5861),Ie=a(9996),F=a(7144),_=a(508),L=a(3191),Ue=a(6360),Je=a(5664);const Ne=["thumbContainer"],Fe=["toggleBar"],Le=["input"],He=function(i){return{enterDuration:i}},Oe=["*"],Pe=new e.OlP("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1})});let Re=0;const Ye={provide:l.JU,useExisting:(0,e.Gpc)(()=>H),multi:!0};class Qe{constructor(s,t){this.source=s,this.checked=t}}const De=(0,_.sb)((0,_.pj)((0,_.Kr)((0,_.Id)(class{constructor(i){this._elementRef=i}}))));let H=(()=>{class i extends De{constructor(t,o,n,r,c,d){super(t),this._focusMonitor=o,this._changeDetectorRef=n,this.defaults=c,this._onChange=g=>{},this._onTouched=()=>{},this._uniqueId="mat-slide-toggle-"+ ++Re,this._required=!1,this._checked=!1,this.name=null,this.id=this._uniqueId,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.change=new e.vpe,this.toggleChange=new e.vpe,this.tabIndex=parseInt(r)||0,this.color=this.defaultColor=c.color||"accent",this._noopAnimations="NoopAnimations"===d}get required(){return this._required}set required(t){this._required=(0,L.Ig)(t)}get checked(){return this._checked}set checked(t){this._checked=(0,L.Ig)(t),this._changeDetectorRef.markForCheck()}get inputId(){return`${this.id||this._uniqueId}-input`}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{t||Promise.resolve().then(()=>this._onTouched())})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}_onChangeEvent(t){t.stopPropagation(),this.toggleChange.emit(),this.defaults.disableToggleValue?this._inputElement.nativeElement.checked=this.checked:(this.checked=this._inputElement.nativeElement.checked,this._emitChangeEvent())}_onInputClick(t){t.stopPropagation()}writeValue(t){this.checked=!!t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck()}focus(t,o){o?this._focusMonitor.focusVia(this._inputElement,o,t):this._inputElement.nativeElement.focus(t)}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(new Qe(this,this.checked))}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(e.SBq),e.Y36(Je.tE),e.Y36(e.sBO),e.$8M("tabindex"),e.Y36(Pe),e.Y36(Ue.Qb,8))},i.\u0275cmp=e.Xpm({type:i,selectors:[["mat-slide-toggle"]],viewQuery:function(t,o){if(1&t&&(e.Gf(Ne,5),e.Gf(Fe,5),e.Gf(Le,5)),2&t){let n;e.iGM(n=e.CRH())&&(o._thumbEl=n.first),e.iGM(n=e.CRH())&&(o._thumbBarEl=n.first),e.iGM(n=e.CRH())&&(o._inputElement=n.first)}},hostAttrs:[1,"mat-slide-toggle"],hostVars:12,hostBindings:function(t,o){2&t&&(e.Ikx("id",o.id),e.uIk("tabindex",null)("aria-label",null)("aria-labelledby",null),e.ekj("mat-checked",o.checked)("mat-disabled",o.disabled)("mat-slide-toggle-label-before","before"==o.labelPosition)("_mat-animation-noopable",o._noopAnimations))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],required:"required",checked:"checked"},outputs:{change:"change",toggleChange:"toggleChange"},exportAs:["matSlideToggle"],features:[e._Bn([Ye]),e.qOj],ngContentSelectors:Oe,decls:16,vars:20,consts:[[1,"mat-slide-toggle-label"],["label",""],[1,"mat-slide-toggle-bar"],["toggleBar",""],["type","checkbox","role","switch",1,"mat-slide-toggle-input","cdk-visually-hidden",3,"id","required","tabIndex","checked","disabled","change","click"],["input",""],[1,"mat-slide-toggle-thumb-container"],["thumbContainer",""],[1,"mat-slide-toggle-thumb"],["mat-ripple","",1,"mat-slide-toggle-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered","matRippleRadius","matRippleAnimation"],[1,"mat-ripple-element","mat-slide-toggle-persistent-ripple"],[1,"mat-slide-toggle-content",3,"cdkObserveContent"],["labelContent",""],[2,"display","none"]],template:function(t,o){if(1&t&&(e.F$t(),e.TgZ(0,"label",0,1),e.TgZ(2,"span",2,3),e.TgZ(4,"input",4,5),e.NdJ("change",function(r){return o._onChangeEvent(r)})("click",function(r){return o._onInputClick(r)}),e.qZA(),e.TgZ(6,"span",6,7),e._UZ(8,"span",8),e.TgZ(9,"span",9),e._UZ(10,"span",10),e.qZA(),e.qZA(),e.qZA(),e.TgZ(11,"span",11,12),e.NdJ("cdkObserveContent",function(){return o._onLabelTextChange()}),e.TgZ(13,"span",13),e._uU(14,"\xa0"),e.qZA(),e.Hsn(15),e.qZA(),e.qZA()),2&t){const n=e.MAs(1),r=e.MAs(12);e.uIk("for",o.inputId),e.xp6(2),e.ekj("mat-slide-toggle-bar-no-side-margin",!r.textContent||!r.textContent.trim()),e.xp6(2),e.Q6J("id",o.inputId)("required",o.required)("tabIndex",o.tabIndex)("checked",o.checked)("disabled",o.disabled),e.uIk("name",o.name)("aria-checked",o.checked)("aria-label",o.ariaLabel)("aria-labelledby",o.ariaLabelledby)("aria-describedby",o.ariaDescribedby),e.xp6(5),e.Q6J("matRippleTrigger",n)("matRippleDisabled",o.disableRipple||o.disabled)("matRippleCentered",!0)("matRippleRadius",20)("matRippleAnimation",e.VKq(18,He,o._noopAnimations?0:150))}},directives:[_.wG,F.wD],styles:[".mat-slide-toggle{display:inline-block;height:24px;max-width:100%;line-height:24px;white-space:nowrap;outline:none;-webkit-tap-highlight-color:transparent}.mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(16px, 0, 0)}[dir=rtl] .mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(-16px, 0, 0)}.mat-slide-toggle.mat-disabled{opacity:.38}.mat-slide-toggle.mat-disabled .mat-slide-toggle-label,.mat-slide-toggle.mat-disabled .mat-slide-toggle-thumb-container{cursor:default}.mat-slide-toggle-label{-webkit-user-select:none;-moz-user-select:none;user-select:none;display:flex;flex:1;flex-direction:row;align-items:center;height:inherit;cursor:pointer}.mat-slide-toggle-content{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-slide-toggle-label-before .mat-slide-toggle-label{order:1}.mat-slide-toggle-label-before .mat-slide-toggle-bar{order:2}[dir=rtl] .mat-slide-toggle-label-before .mat-slide-toggle-bar,.mat-slide-toggle-bar{margin-right:8px;margin-left:0}[dir=rtl] .mat-slide-toggle-bar,.mat-slide-toggle-label-before .mat-slide-toggle-bar{margin-left:8px;margin-right:0}.mat-slide-toggle-bar-no-side-margin{margin-left:0;margin-right:0}.mat-slide-toggle-thumb-container{position:absolute;z-index:1;width:20px;height:20px;top:-3px;left:0;transform:translate3d(0, 0, 0);transition:all 80ms linear;transition-property:transform}._mat-animation-noopable .mat-slide-toggle-thumb-container{transition:none}[dir=rtl] .mat-slide-toggle-thumb-container{left:auto;right:0}.mat-slide-toggle-thumb{height:20px;width:20px;border-radius:50%;display:block}.mat-slide-toggle-bar{position:relative;width:36px;height:14px;flex-shrink:0;border-radius:8px}.mat-slide-toggle-input{bottom:0;left:10px}[dir=rtl] .mat-slide-toggle-input{left:auto;right:10px}.mat-slide-toggle-bar,.mat-slide-toggle-thumb{transition:all 80ms linear;transition-property:background-color;transition-delay:50ms}._mat-animation-noopable .mat-slide-toggle-bar,._mat-animation-noopable .mat-slide-toggle-thumb{transition:none}.mat-slide-toggle .mat-slide-toggle-ripple{position:absolute;top:calc(50% - 20px);left:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-slide-toggle .mat-slide-toggle-ripple .mat-ripple-element:not(.mat-slide-toggle-persistent-ripple){opacity:.12}.mat-slide-toggle-persistent-ripple{width:100%;height:100%;transform:none}.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:.04}.mat-slide-toggle:not(.mat-disabled).cdk-keyboard-focused .mat-slide-toggle-persistent-ripple{opacity:.12}.mat-slide-toggle-persistent-ripple,.mat-slide-toggle.mat-disabled .mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:0}@media(hover: none){.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{display:none}}.cdk-high-contrast-active .mat-slide-toggle-thumb,.cdk-high-contrast-active .mat-slide-toggle-bar{border:1px solid}.cdk-high-contrast-active .mat-slide-toggle.cdk-keyboard-focused .mat-slide-toggle-bar{outline:2px dotted;outline-offset:5px}\n"],encapsulation:2,changeDetection:0}),i})(),O=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({}),i})(),Ke=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[O,_.si,_.BQ,F.Q8],O,_.BQ]}),i})();function Ge(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",9),e.TgZ(1,"div",10),e.TgZ(2,"div",11),e.TgZ(3,"div",12),e._uU(4),e.qZA(),e.qZA(),e.TgZ(5,"div",13),e.TgZ(6,"mat-slide-toggle",14),e.NdJ("change",function(n){const c=e.CHM(t).$implicit;return e.oxw().updateIsSelected(c.id,n)}),e.qZA(),e.qZA(),e.qZA(),e._UZ(7,"img",15),e.qZA()}if(2&i){const t=s.$implicit,o=e.oxw();e.xp6(4),e.Oqu(o.getTime(t.time)),e.xp6(2),e.Q6J("color",o.color)("checked",t.isSelected)("disabled",o.disabled),e.xp6(1),e.Q6J("src",o.getFullImageUrl(t.body),e.LSH)}}function Be(i,s){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"form",16),e.TgZ(2,"div",17),e.TgZ(3,"div",18),e.TgZ(4,"div",19),e.TgZ(5,"div",20),e.TgZ(6,"div",21),e.TgZ(7,"div",18),e.TgZ(8,"div",22),e.TgZ(9,"h5"),e._uU(10,"From:"),e.qZA(),e.TgZ(11,"div",18),e.TgZ(12,"div",23),e.TgZ(13,"div",24),e.TgZ(14,"label",25),e._uU(15,"HH"),e.qZA(),e._UZ(16,"input",26),e.qZA(),e.qZA(),e.TgZ(17,"div",23),e.TgZ(18,"div",24),e.TgZ(19,"label",25),e._uU(20,"MM"),e.qZA(),e._UZ(21,"input",27),e.qZA(),e.qZA(),e.TgZ(22,"div",23),e.TgZ(23,"div",24),e.TgZ(24,"label",25),e._uU(25,"SS"),e.qZA(),e._UZ(26,"input",28),e.qZA(),e.qZA(),e.qZA(),e.TgZ(27,"h5"),e._uU(28,"To:"),e.qZA(),e.TgZ(29,"div",18),e.TgZ(30,"div",23),e.TgZ(31,"div",24),e.TgZ(32,"label",25),e._uU(33,"HH"),e.qZA(),e._UZ(34,"input",29),e.qZA(),e.qZA(),e.TgZ(35,"div",23),e.TgZ(36,"div",24),e.TgZ(37,"label",25),e._uU(38,"MM"),e.qZA(),e._UZ(39,"input",30),e.qZA(),e.qZA(),e.TgZ(40,"div",23),e.TgZ(41,"div",24),e.TgZ(42,"label",25),e._uU(43,"SS"),e.qZA(),e._UZ(44,"input",31),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(45,"div",32),e.TgZ(46,"div",33),e.TgZ(47,"div",34),e.TgZ(48,"button",35),e.NdJ("click",function(){return e.CHM(t),e.oxw().display=!1}),e._uU(49," Cancel "),e.qZA(),e.TgZ(50,"button",36),e.NdJ("click",function(){return e.CHM(t),e.oxw().fetchScreenshotsbyTime()}),e._uU(51," Submit "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.BQk()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("formGroup",t.timeRangeSelectionForm)}}function ze(i,s){if(1&i&&(e.TgZ(0,"div",38),e.TgZ(1,"div",24),e._UZ(2,"img",46),e.qZA(),e.qZA()),2&i){const t=e.oxw(2);e.xp6(2),e.Q6J("src",t.screenShotImage,e.LSH)}}function je(i,s){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"form",16),e.TgZ(2,"div",37),e.TgZ(3,"div",18),e.TgZ(4,"div",19),e.TgZ(5,"div",20),e.TgZ(6,"div",21),e.TgZ(7,"div",18),e.TgZ(8,"div",38),e.TgZ(9,"div",18),e.TgZ(10,"div",39),e.TgZ(11,"div",40),e.TgZ(12,"h5"),e._uU(13,"Screenshot:"),e.qZA(),e.TgZ(14,"input",41),e.NdJ("change",function(n){return e.CHM(t),e.oxw().OnchangeScreenShot(n)}),e.qZA(),e.qZA(),e.qZA(),e.YNc(15,ze,3,1,"div",42),e.qZA(),e.qZA(),e.qZA(),e.TgZ(16,"h5"),e._uU(17,"Time:"),e.qZA(),e.TgZ(18,"div",18),e.TgZ(19,"div",23),e.TgZ(20,"div",24),e.TgZ(21,"label",25),e._uU(22,"HH"),e.qZA(),e._UZ(23,"input",43),e.qZA(),e.qZA(),e.TgZ(24,"div",23),e.TgZ(25,"div",24),e.TgZ(26,"label",25),e._uU(27,"MM"),e.qZA(),e._UZ(28,"input",44),e.qZA(),e.qZA(),e.TgZ(29,"div",23),e.TgZ(30,"div",24),e.TgZ(31,"label",25),e._uU(32,"SS"),e.qZA(),e._UZ(33,"input",45),e.qZA(),e.qZA(),e.qZA(),e.TgZ(34,"div",32),e.TgZ(35,"div",33),e.TgZ(36,"div",34),e.TgZ(37,"button",35),e.NdJ("click",function(){return e.CHM(t),e.oxw().display=!1}),e._uU(38," Cancel "),e.qZA(),e.TgZ(39,"button",36),e.NdJ("click",function(){return e.CHM(t),e.oxw().SubmitScreenshots()}),e._uU(40," Submit "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.BQk()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("formGroup",t.AddScreenshotForm),e.xp6(14),e.Q6J("ngIf",null!=t.screenShotImage)}}const Ve=function(){return{width:"50vw",height:"77vh"}},$e=[{path:"",component:N},{path:"all-movies",component:N},{path:"active-movies",component:se},{path:"admin-screenshots/:movieId/:movieTitle",component:(()=>{class i{constructor(t,o,n,r,c,d){this.ngxLoader=t,this.QuibService=o,this.route=n,this.renderer=r,this.toastr=c,this.fb=d,this.allScreenshots=[],this.checked=!0,this.disabled=!1,this.color="accent",this.serverBaseUrl="http://44.211.90.48/",this.timeRangeSelectionForm=new l.cw({}),this.timeRangeSelector=!1,this.display=!1,this.message="",this.screenShotImage=void 0,this.AddScreenshot=!1,this.AddScreenshotForm=new l.cw({}),this.posterContentThumb=void 0,this.timeRangeSelectionForm=this.fb.group({fromHours:["",[l.kI.required]],fromMinutes:["",[l.kI.required]],fromSeconds:["",[l.kI.required]],toHours:["",[l.kI.required]],toMinutes:["",[l.kI.required]],toSeconds:["",[l.kI.required]]}),this.AddScreenshotForm=this.fb.group({posterContentThumb:["",[l.kI.required]],posterContent:["",[l.kI.required]],hours:["",[l.kI.required]],minutes:["",[l.kI.required]],seconds:["",[l.kI.required]]})}ngOnInit(){this.route.paramMap.subscribe(t=>{this.movieId=Number(t.get("movieId"))||0,this.movieTitle=t.get("movieTitle")||"",this.getAdminScreenshots()})}onTouchStart(t){this.pageX=t.touches[0].pageX}onTouchMove(t){this.renderer.setStyle(document.body,"transform",`translateX(-${this.pageX-t.touches[0].pageX}px)`)}onTouchEnd(){}getAdminScreenshots(){var t=this;return(0,Z.Z)(function*(){t.ngxLoader.start(),(yield t.QuibService.getAdminScreenshots(t.movieId)).subscribe({next:o=>{t.allScreenshots=o,t.toastr.showSuccess("All screenshots fetched successfully","Screenshots"),t.ngxLoader.stop()},error:o=>{console.log(o),console.log(o.error.message),t.ngxLoader.stop()},complete:()=>{}})})()}getFullImageUrl(t){return this.serverBaseUrl+t}getTitle(){return`${this.movieTitle} Screenshots`}getTime(t){const o=Math.floor(t/3600),n=Math.floor(t%3600/60),r=t%60;return`${this.padZero(o)}:${this.padZero(n)}:${this.padZero(r)}`}padZero(t){return t<10?`0${t}`:`${t}`}updateIsSelected(t,o){var n=this;return(0,Z.Z)(function*(){const r=o.checked;(yield n.QuibService.updateIsSelected(t,r)).subscribe({next:c=>{console.log(c),r?n.toastr.showSuccess("Screenshot selected","Screenshot"):n.toastr.showWarning("Screenshot unselected","Screenshot")},error:c=>{console.log(c)},complete:()=>{}})})()}getSelectedScreenshots(){var t=this;return(0,Z.Z)(function*(){(yield t.QuibService.getSelectedScreenshots(t.movieId,!0)).subscribe({next:o=>{t.allScreenshots=o,t.toastr.showSuccess("Selected screenshots fetched successfully","Screenshots")},error:o=>{console.log(o)},complete:()=>{}})})()}getUnSelectedScreenshots(){var t=this;return(0,Z.Z)(function*(){(yield t.QuibService.getSelectedScreenshots(t.movieId,!1)).subscribe({next:o=>{t.allScreenshots=o,0==t.allScreenshots.length?t.toastr.showError("Oops there are no unselected screenshots","Screenshots"):t.toastr.showWarning("Unselected screenshots fetched successfully","Screenshots")},error:o=>{console.log(o)},complete:()=>{}})})()}fetchScreenshotsbyTime(){var t=this;return(0,Z.Z)(function*(){const u=3600*t.timeRangeSelectionForm.controls.fromHours.value+60*t.timeRangeSelectionForm.controls.fromMinutes.value+t.timeRangeSelectionForm.controls.fromSeconds.value,b=3600*t.timeRangeSelectionForm.controls.toHours.value+60*t.timeRangeSelectionForm.controls.toMinutes.value+t.timeRangeSelectionForm.controls.toSeconds.value;u>b?t.toastr.showError("From Time should be less than To time","Oops!"):(t.display=!1,t.timeRangeSelector=!1,(yield t.QuibService.fetchScreenshotsByTimeRange(t.movieId,u,b)).subscribe({next:h=>{t.allScreenshots=h,t.toastr.showSuccess("Screenshots fetched for a particular time range","Screenshots")},error:h=>{console.log(h)},complete:()=>{}}))})()}OnchangeScreenShot(t){var o=new FileReader;this.image=t.target.files[0],o.readAsDataURL(t.target.files[0]),o.onload=n=>{this.screenShotImage=n.target.result}}SubmitScreenshots(){var t=this;return(0,Z.Z)(function*(){const c=3600*t.AddScreenshotForm.controls.hours.value+60*t.AddScreenshotForm.controls.minutes.value+t.AddScreenshotForm.controls.seconds.value,d=t.image,g=new FormData;g.append("MovieId",t.movieId.toString()),g.append("Screenshot",d),g.append("UserId","a6ec419c-e8c4-48f9-874a-6f1eb9421464"),g.append("Time",c.toString()),t.display=!1,t.AddScreenshot=!1,(yield t.QuibService.addScreenShots(g)).subscribe({next:u=>{t.toastr.showSuccess(`${u.message}`,"Screenshot")},error:u=>{console.log(u)},complete:()=>{}})})()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(v.LA),e.Y36(Ie.V),e.Y36(T.gz),e.Y36(e.Qsj),e.Y36(A.$),e.Y36(l.qu))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-admin-screenshots"]],hostBindings:function(t,o){1&t&&e.NdJ("touchstart",function(r){return o.onTouchStart(r)})("touchmove",function(r){return o.onTouchMove(r)})("touchend",function(){return o.onTouchEnd()})},decls:23,vars:11,consts:[["id","top-bar"],["id","navbar"],[2,"cursor","pointer",3,"click"],[1,"main-container"],[1,"main-container-inner"],[1,"screenshots-container"],["class","main-div",4,"ngFor","ngForOf"],["position","top",3,"visible","modal","header","baseZIndex","visibleChange"],[4,"ngIf"],[1,"main-div"],[1,"sub-div-1"],[1,"center-text"],[1,"timer-div"],[1,"right-text"],[3,"color","checked","disabled","change"],[1,"image-style",3,"src"],[3,"formGroup"],[1,"card","col-sm-12",2,"height","58vh"],[1,"row","gutters"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12","col-12"],[1,"h-100","mt-5"],[1,"card-body"],[1,"col-xl-6","col-lg-6","col-md-6","col-sm-6","col-12",2,"margin-right","350px"],[1,"col-xl-4","col-lg-4","col-md-4","col-sm-4","col-12"],[1,"form-group"],["for","Name"],["type","number","placeholder","Hours","formControlName","fromHours",1,"form-control",2,"width","7vw"],["type","number","placeholder","Minutes","formControlName","fromMinutes",1,"form-control",2,"width","7vw"],["type","number","placeholder","Seconds","formControlName","fromSeconds",1,"form-control",2,"width","7vw"],["type","number","placeholder","Hours","formControlName","toHours",1,"form-control",2,"width","7vw"],["type","number","placeholder","Minutes","formControlName","toMinutes",1,"form-control",2,"width","7vw"],["type","number","placeholder","Seconds","formControlName","toSeconds",1,"form-control",2,"width","7vw"],[1,"row","gutters","mt-4"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12","col-12","mt-4"],[1,"text-right"],["pButton","","type","button","id","submit","name","submit",1,"p-button-danger","mr-4",3,"click"],["pButton","","type","button","id","submit","name","submit",1,"p-button-success",3,"click"],[1,"card","col-sm-12",2,"height","55vh"],[1,"col-xl-6","col-lg-6","col-md-6","col-sm-6","col-12"],[1,"col-xl-6","col-lg-6","col-md-6","col-sm-6","col-12",2,"margin-right","540px"],[1,"form-group",2,"margin-left","10px"],["type","file","formControlName","posterContentThumb",1,"form-control",2,"width","15vw",3,"change"],["class","col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12",4,"ngIf"],["type","number","placeholder","Hours","formControlName","hours",1,"form-control",2,"width","7vw"],["type","number","placeholder","Minutes","formControlName","minutes",1,"form-control",2,"width","7vw"],["type","number","placeholder","Seconds","formControlName","seconds",1,"form-control",2,"width","7vw"],[1,"form-control",2,"width","80%","height","10vh","margin-left","5px",3,"src"]],template:function(t,o){1&t&&(e.TgZ(0,"body"),e.TgZ(1,"div",0),e.TgZ(2,"h1"),e._uU(3),e.qZA(),e.qZA(),e.TgZ(4,"div",1),e.TgZ(5,"a",2),e.NdJ("click",function(){return[o.display=!0,o.AddScreenshot=!0,o.timeRangeSelector=!1,o.message="Upload ScreenShot"]}),e._uU(6,"Upload"),e.qZA(),e.TgZ(7,"a",2),e.NdJ("click",function(){return o.getAdminScreenshots()}),e._uU(8,"Show all"),e.qZA(),e.TgZ(9,"a",2),e.NdJ("click",function(){return o.getSelectedScreenshots()}),e._uU(10,"Show Selected"),e.qZA(),e.TgZ(11,"a",2),e.NdJ("click",function(){return o.getUnSelectedScreenshots()}),e._uU(12,"Show Unselected"),e.qZA(),e.TgZ(13,"a",2),e.NdJ("click",function(){return[o.display=!0,o.timeRangeSelector=!0,o.AddScreenshot=!1,o.message="Select Time Range"]}),e._uU(14,"Select Time Range"),e.qZA(),e.qZA(),e.TgZ(15,"div",3),e.TgZ(16,"div",4),e.TgZ(17,"div",5),e.YNc(18,Ge,8,5,"div",6),e.qZA(),e.qZA(),e.qZA(),e._UZ(19,"footer"),e.qZA(),e.TgZ(20,"p-dialog",7),e.NdJ("visibleChange",function(r){return o.display=r}),e.YNc(21,Be,52,1,"ng-container",8),e.YNc(22,je,41,2,"ng-container",8),e.qZA()),2&t&&(e.xp6(3),e.Oqu(o.getTitle()),e.xp6(15),e.Q6J("ngForOf",o.allScreenshots),e.xp6(2),e.Akn(e.DdM(10,Ve)),e.Q6J("visible",o.display)("modal",!0)("header",o.message)("baseZIndex",1e4),e.xp6(1),e.Q6J("ngIf",o.timeRangeSelector),e.xp6(1),e.Q6J("ngIf",o.AddScreenshot))},directives:[m.sg,H,S.V,m.O5,l._Y,l.JL,l.sg,l.wV,l.Fj,l.JJ,l.u,x.Hq],styles:["body[_ngcontent-%COMP%]{margin:0;padding:0;font-family:Arial,sans-serif;background-color:#e2e5de;display:flex;flex-direction:column;min-height:100vh;overflow-x:hidden;overscroll-behavior-x:none;touch-action:pan-y}#top-bar[_ngcontent-%COMP%]{background-color:#353d44;text-align:center;color:#fff;padding:1px;line-height:1}#navbar[_ngcontent-%COMP%]{background-color:#555;overflow:hidden}#navbar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{float:left;display:block;color:#fff;text-align:center;padding:14px 16px;text-decoration:none}#navbar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#ddd;color:#000}.quib-panel[_ngcontent-%COMP%]{background-color:#fdfdfd;width:97.5%;border-radius:0;box-shadow:none;margin:20px auto 0;overflow:hidden;max-height:calc(100% - 90px);position:relative;padding:0 10px;z-index:0}.row[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-grow:1}.quib-container[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;overflow-x:auto;justify-content:center;align-items:center;width:100%}.quib-item-inner[_ngcontent-%COMP%]{flex:0 0 auto;margin-right:10px}.panel-body[_ngcontent-%COMP%]{max-height:337px;border:1px;padding:0;height:250px;min-height:250px}.quib-compose-wrapper[_ngcontent-%COMP%]{position:relative;width:100%;height:100%}.quib-compose-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;z-index:1}.main-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;overflow-x:auto;flex-grow:1;margin-left:5px;margin-right:5px}.main-container-inner[_ngcontent-%COMP%]{display:flex;flex-direction:row;min-width:100%}.panel-body[_ngcontent-%COMP%]{position:relative;height:300px}.main-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;overflow-x:auto}.main-div[_ngcontent-%COMP%]{flex-shrink:0;background-color:#67676c;width:400px;height:200px;margin-right:10px;justify-content:center;align-items:center;max-width:100%;box-sizing:border-box}.sub-div-1[_ngcontent-%COMP%]{background-color:#929295;width:100%;height:20px;display:flex;justify-content:space-between;align-items:center}.center-text[_ngcontent-%COMP%]{display:flex;align-items:center;flex-grow:1}.timer-div[_ngcontent-%COMP%]{width:80px;height:20px;border-radius:10px;background-color:red;text-align:center;margin:0 auto;color:#000}.right-text[_ngcontent-%COMP%]{margin:0;text-align:right}.image-style[_ngcontent-%COMP%]{width:100%;height:180px;object-fit:cover}.screenshots-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;transition:transform .3s ease}footer[_ngcontent-%COMP%]{background-color:#353d44;color:#fff;text-align:center;padding:30px;margin-top:auto}"]}),i})()}];let Xe=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[T.Bz.forChild($e)],T.Bz]}),i})();var et=a(984);let tt=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[m.ez,et.m,l.u5,l.UX,Xe,M.q4,Ke,U.p9]]}),i})()}}]);